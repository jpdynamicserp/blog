<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Japan Dynamics ERP Support Blog</title>
  
  <subtitle>日本マイクロソフトの Dynamics ERP テクニカルサポートチームより、情報をお届けします！</subtitle>
  <link href="https://jpdynamicserp.github.io/blog/atom.xml" rel="self"/>
  
  <link href="https://jpdynamicserp.github.io/blog/"/>
  <updated>2023-10-12T15:49:24.843Z</updated>
  <id>https://jpdynamicserp.github.io/blog/</id>
  
  <author>
    <name>Dynamics ERP Support Japan</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Dynamics 365 for Finance and Operations の環境ごとの違い</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/environments/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20Tech/environments/</id>
    <published>2023-09-07T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.843Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Dynamics ERP サポートチームの福原です。<br>この記事では、 Dynamics 365 Finance and Operations (D365FO) の環境ごとの違いについてご案内します。<br>クラウドホスト環境、サンドボックス環境、Tier2環境、本番環境等、様々な呼び方の環境があり、また、それぞれの環境で使える機能も異なるので、分かりづらいというお声をいただくことがありますので、そのような場合には本記事をご参考ください。</p><span id="more"></span><table><thead><tr><th align="left">環境名</th><th align="left">本番環境</th><th align="left">サンドボックス環境</th><th align="left">クラウドホスト環境</th></tr></thead><tbody><tr><td align="left">配置可能なLCSプロジェクト</td><td align="left">実装プロジェクト</td><td align="left">実装プロジェクト</td><td align="left">実装プロジェクト<br>  or パートナー試用版プロジェクト</td></tr><tr><td align="left">呼ばれ方例</td><td align="left">Production 環境 <br> 運用環境 <br> Microsoft-managed 環境 <br> セルフサービス環境</td><td align="left">Sandbox環境 <br> Tier2 ~ Tier5 環境 <br> 非運用環境  <br> Microsoft-managed 環境 <br> セルフサービス環境</td><td align="left">Cloud-hosted環境、<br> 開発環境</td></tr><tr><td align="left">配置場所</td><td align="left">Azure</td><td align="left">Azure</td><td align="left">Azure</td></tr><tr><td align="left">Azure Subscription (*1)</td><td align="left">Microsoft</td><td align="left">Microsoft</td><td align="left">顧客</td></tr><tr><td align="left">データベース</td><td align="left">Azure SQL</td><td align="left">Azure SQL</td><td align="left">Azure VM 内のオンプレミスSQL Server</td></tr><tr><td align="left">SSMSによる<br> データベースへの接続</td><td align="left">不可</td><td align="left">可 (*2)</td><td align="left">可</td></tr><tr><td align="left">RDP接続</td><td align="left">不可</td><td align="left">不可</td><td align="left">可</td></tr><tr><td align="left">フライト有効化方法 (*3)</td><td align="left">Microsoft</td><td align="left">Microsoft</td><td align="left">顧客</td></tr></tbody></table><p>(*1): 本番環境、サンドボックス環境は、Microsoft 内の Azure Subscription に紐づいて管理されているので、顧客は Azure portal にて環境の情報を見ることができません。クラウドホスト環境は顧客の Azure Subscirption 内で構築されますので、Azure portal にて環境や請求の情報を見ることができます。<br>(*2): <a href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/database-just-in-time-jit-access/">https://jpdynamicserp.github.io/blog/D365FO%20Tech/database-just-in-time-jit-access/</a> の手順となります。<br>(*3): 本番環境、サンドボックス環境、クラウドホスト環境のフライトの管理方法の違いは <a href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/what-is-flight/">https://jpdynamicserp.github.io/blog/D365FO%20Tech/what-is-flight/</a> にてご案内しております。</p><p>(*): 本記事は2023年9月8日時点での情報です。</p><hr><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、 Dynamics 365 for Finance and Operations (D365FO) の環境ごとの違いについてご紹介しました。<br>もし、お困りのこと等がございましたら、弊社までお問い合わせ頂きますようお願いいたします。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、Dynamics ERP サポートチームの福原です。&lt;br&gt;この記事では、 Dynamics 365 Finance and Operations (D365FO) の環境ごとの違いについてご案内します。&lt;br&gt;クラウドホスト環境、サンドボックス環境、Tier2環境、本番環境等、様々な呼び方の環境があり、また、それぞれの環境で使える機能も異なるので、分かりづらいというお声をいただくことがありますので、そのような場合には本記事をご参考ください。&lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO Tech" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-Tech/"/>
    
    <category term="Tips" scheme="https://jpdynamicserp.github.io/blog/tags/Tips/"/>
    
  </entry>
  
  <entry>
    <title>Trace Parserを使用したトレースの実行方法</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/how-to-get-trace-parser/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20Tech/how-to-get-trace-parser/</id>
    <published>2023-08-23T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.879Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Dynamics ERP サポートチームです。<br>この記事では、 Dynamics 365 Finance and Operations にて、 Trace Parser を使用したトレースの実行手順を紹介します。</p><span id="more"></span><blockquote><p>注意点</p><ul><li>Trace Parser によりトレースを取得する際には、トレースの取得前または取得後にて、Web ブラウザーのページを更新せずに、<a href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/browser-session-id/">ブラウザーセッション ID の取得</a> をお願いします。</li><li>バッチサーバー上での処理はトレースに記録されませんので、バッチサーバー上での処理のトラブルシューティングに Trace Parser をご利用いただくことはできません。</li></ul></blockquote><h2 id="検証に用いた製品・バージョン"><a href="#検証に用いた製品・バージョン" class="headerlink" title="検証に用いた製品・バージョン"></a>検証に用いた製品・バージョン</h2><p>Dynamics 365 Finance and Operations<br>Application version: 10.0.34<br>Platform version: PU58</p><h2 id="Trace-Parser-を使用したトレースの実行手順"><a href="#Trace-Parser-を使用したトレースの実行手順" class="headerlink" title="Trace Parser を使用したトレースの実行手順"></a>Trace Parser を使用したトレースの実行手順</h2><ul><li><strong>Admin 権限を持っているユーザー</strong></li></ul><ol><li><p>ヘッダー部分の「?」から「追跡」を選択する</p><p> <img src="/blog/D365FO%20Tech/how-to-get-trace-parser/step.png"></p></li></ol><ol start="2"><li>追跡名に任意の名称を入力し、「追跡の開始」をクリックする<br>  <img src="/blog/D365FO%20Tech/how-to-get-trace-parser/step2.png"></li></ol><ol start="3"><li>任意の操作を行い、トレースの実行を終了する際は、「追跡の停止」をクリックする<br>  <img src="/blog/D365FO%20Tech/how-to-get-trace-parser/step3.png"></li></ol><ol start="4"><li>実行したトレースをローカルマシーンに保存する場合は、「トレースのダウンロード」をクリックする<br>  <img src="/blog/D365FO%20Tech/how-to-get-trace-parser/step4.png"></li></ol><ul><li><strong>Admin 権限を持っていないユーザー(システムトレースユーザー権限付与済)</strong></li></ul><ol start="5"><li>手順 3 まで同様に進める</li></ol><ol start="6"><li><p>トレースの取得が完了したら「トレースのアップロード」をクリックする<br>トレースのアップロードが完了すると、admin 権限のあるユーザーに送信される</p><p>  <img src="/blog/D365FO%20Tech/how-to-get-trace-parser/step6.png"></p></li></ol><h2 id="アップロードされたトレースの確認手順"><a href="#アップロードされたトレースの確認手順" class="headerlink" title="アップロードされたトレースの確認手順"></a>アップロードされたトレースの確認手順</h2><ol start="7"><li><p>手順 1 と同様に進め、「追跡」のメニューから「キャプチャされたトレース」をクリックする</p><p>  <img src="/blog/D365FO%20Tech/how-to-get-trace-parser/step7.png"></p></li><li><p>対象の追跡名をクリックし、ダウンロードする<br>ここで、権限を持たないユーザーがアップロードしたトレースを確認することができます。</p><p>  <img src="/blog/D365FO%20Tech/how-to-get-trace-parser/step8.png"></p></li></ol><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>Trace Parser を使用したトレースの実行方法は、公式ドキュメントでも公開されています。<br>下記のリンクも併せてご参照ください。<br><a href="https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/perf-test/trace-trace-tutorial">https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/perf-test/trace-trace-tutorial</a></p><hr><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、 Dynamics 365 Finance and Operations にて、 Trace Parser を使用したトレースの実行手順についてご紹介しました。<br>より詳細な情報が必要な場合、弊社テクニカルサポート, Customer Success Account Manager (CSAM), Customer Engineer (CE) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、Dynamics ERP サポートチームです。&lt;br&gt;この記事では、 Dynamics 365 Finance and Operations にて、 Trace Parser を使用したトレースの実行手順を紹介します。&lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO Tech" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-Tech/"/>
    
    <category term="Trace parser" scheme="https://jpdynamicserp.github.io/blog/tags/Trace-parser/"/>
    
  </entry>
  
  <entry>
    <title>Power Automate と Business Event を使用した Executing のままになっているバッチジョブの検知方法</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/how-to-executingalert/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20Tech/how-to-executingalert/</id>
    <published>2023-08-08T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.871Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、日本マイクロソフトの佐藤です。<br>この記事では、Dynamics 365 for Finance and Operations (D365FO) の Business Event の機能を用いて、Power Automate で Executing のままになっているバッチ　ジョブを検知する方法をご案内します。</p><p>バッチ ジョブの通常の処理時間が分かっている場合、この手順により、通常よりも長い時間 Executing のままになっているバッチ ジョブを検知することができます。  </p><span id="more"></span><h2 id="検証に用いた製品・バージョン"><a href="#検証に用いた製品・バージョン" class="headerlink" title="検証に用いた製品・バージョン"></a>検証に用いた製品・バージョン</h2><p>Dynamics 365 Finance and Operations<br>Application version: 10.0.33<br>Platform version: PU57</p><h2 id="D365FO-のバッチ-ジョブにおける-Business-Event-の有効化"><a href="#D365FO-のバッチ-ジョブにおける-Business-Event-の有効化" class="headerlink" title="D365FO のバッチ ジョブにおける Business Event の有効化"></a>D365FO のバッチ ジョブにおける Business Event の有効化</h2><p>下記の操作で、 D365FO のバッチ ジョブにおける Business Event を有効化します。</p><p>[システム管理] &gt; [照会] &gt; [バッチ ジョブ] から、対象のバッチ ジョブに関しまして、Business Event を有効化します。</p><p>[Business Event] タブから [開始済] を ”はい” に設定し、[OK] を選択します。</p><p><img src="/blog/D365FO%20Tech/how-to-executingalert/executingalert01.png"></p><p>この設定により、対象のバッチ ジョブが開始した際に Business Event が発生します。</p><h2 id="Power-Automate-のフロー作成"><a href="#Power-Automate-のフロー作成" class="headerlink" title="Power Automate のフロー作成"></a>Power Automate のフロー作成</h2><p><a href="https://make.powerautomate.com/">Power Automate</a> からフローを作成します。サインインの際は、 FO 環境に登録されているユーザーを使用します。今回は例として、”Executing” のままのバッチ ジョブがあった場合、任意のユーザーにメールを送信するフローを作成します。</p><p>最終的なフローの形は以下になります。<br><img src="/blog/D365FO%20Tech/how-to-executingalert/executingalert12.png"></p><ol><li><p>右上に表示されている環境は、お客様の FO の環境が <a href="https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/power-platform/enable-power-platform-integration">PowerPlatform統合</a> が設定されている環境を指定します。</p></li><li><p>[作成] &gt; [自動化したクラウド フロー] を選択します。その後、任意のフロー名を設定し、検索に “Fin” と入力して [ビジネス イベントが発生したとき] のトリガーを選択します。[作成] を選択します。<br><img src="/blog/D365FO%20Tech/how-to-executingalert/executingalert02.png"></p></li><li><p>フローの作成画面が開きます。 [ビジネス イベントが発生したとき] のトリガーにて、インスタンスに対象の環境、カテゴリに “Batch”、ビジネス イベントに “Batch job started” を選択します。<br>※ FO 環境の言語設定が日本語の場合、設定が正しく読み取られませんので、英語に設定して、当フローは作成してください。<br><img src="/blog/D365FO%20Tech/how-to-executingalert/executingalert03.png"></p></li><li><p>[新しいステップ] から [JSONの解析] アクションを選択します。コンテンツに [ビジネス イベントが発生したとき] の body を選択します。スキーマを [サンプルから作成] します。<br><img src="/blog/D365FO%20Tech/how-to-executingalert/executingalert04.png"></p></li></ol><p>サンプルのJSONを入力し、完了を選択します。このアクションにより、トリガーで取得した出力を、動的に後のフローで使用することができます。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&quot;AdminEmailId&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;BusinessEventId&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;BusinessEventLegalEntity&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;ContextRecordSubject&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;ControlNumber&quot;</span>:<span class="number">0</span>,<span class="string">&quot;EventId&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;EventTime&quot;</span>:<span class="string">&quot;/Date(-2208988800000)/&quot;</span>,<span class="string">&quot;EventTimeIso8601&quot;</span>:<span class="string">&quot;1900-01-01T00:00:00Z&quot;</span>,<span class="string">&quot;InitiatingUserAADObjectId&quot;</span>:<span class="string">&quot;&#123;00000000-0000-0000-0000-000000000000&#125;&quot;</span>,<span class="string">&quot;JobDescription&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;JobEndUtcDateTime&quot;</span>:<span class="string">&quot;/Date(-2208988800000)/&quot;</span>,<span class="string">&quot;JobExecutedByEmailId&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;JobId&quot;</span>:<span class="number">0</span>,<span class="string">&quot;JobOwnerEmailId&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;JobStatus&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;MajorVersion&quot;</span>:<span class="number">0</span>,<span class="string">&quot;MinorVersion&quot;</span>:<span class="number">0</span>,<span class="string">&quot;ParentContextRecordSubjects&quot;</span>:<span class="literal">null</span>&#125;</span><br></pre></td></tr></table></figure><p><img src="/blog/D365FO%20Tech/how-to-executingalert/executingalert05.png"></p><p>上記のサンプルに関しましては、FO の [システム管理] &gt; [設定] &gt; [ビジネス イベント] &gt; [ビジネス イベント カタログ] 画面から、[バッチ ジョブの開始] イベントの [スキーマのダウンロード] を選択すると、ダウンロードできます。<br><img src="/blog/D365FO%20Tech/how-to-executingalert/executingalert06.png"></p><ol start="5"><li><p>[新しいステップ] から [レコードの取得] アクションを選択します (アクション名は [レコードの取得 1] とします) 。インスタンスに対象の環境、エンティティ名に”BatchJobs”、オブジェクト名に [JSONの解析] アクションの出力の [JobId] を選択します。このアクションにより、開始直後のバッチ ジョブのステータスを確認できます。<br><img src="/blog/D365FO%20Tech/how-to-executingalert/executingalert07.png"></p></li><li><p>[新しいステップ] から [待ち時間] アクションを選択します。カウントと単位を設定できますので、通常の処理時間が分かっている場合、処理が完了しているはずの時間を入力します。このアクションにより、次のアクションを開始するまで、待機することができます。<br><img src="/blog/D365FO%20Tech/how-to-executingalert/executingalert08.png"></p></li><li><p>[新しいステップ] から [レコードの取得] アクションを選択します (アクション名は [レコードの取得 2] とします) 。インスタンスに対象の環境、エンティティ名に”BatchJobs”、オブジェクト名に [JSONの解析] アクションの出力の [JobId] を選択します。このアクションにより、待ち時間後のバッチ ジョブのステータスを確認できます。<br><img src="/blog/D365FO%20Tech/how-to-executingalert/executingalert09.png"></p></li><li><p> [新しいステップ] から [条件] コントロールを選択します。[追加] &gt; [行の追加] からANDの条件式を2つ設定します。</p></li></ol><p>１つ目の条件式は、値の選択に [レコードの取得 2] アクションの出力の [ステータス] を選択し、条件に [次の値に等しい]、値に “Executing” を設定します。このコントロールにより、待ち時間後も “Executing” のままのバッチジョブを検知することができます。</p><p>2つ目の条件式は、値の選択に [レコードの取得 1] アクションの出力の [Start Time] を選択し、条件に [次の値に等しい]、値に [レコードの取得 2] アクションの出力の [Start Time] を設定します。このコントロールにより、待ち時間前と [Start Time] が同じバッチジョブを検知することができます。<br><img src="/blog/D365FO%20Tech/how-to-executingalert/executingalert10.png"></p><ol start="9"><li>“はいの場合” の [アクションの追加] から [メールの送信(V2)] アクションを選択します。宛先に任意のユーザー、件名と本文に任意の文章を入力します。また、その際に動的な値として、今までのフローの出力を設定することができます。このアクションにより、”Executing” のままのバッチ ジョブがあった場合、任意のユーザーにメールを送信し、バッチジョブの内容を通知できます。<br><img src="/blog/D365FO%20Tech/how-to-executingalert/executingalert11.png"></li></ol><p>ビジネス イベントの詳細に関しましては、下記の公開資料に情報がございますので、参照ください。</p><p><a href="https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/business-events/business-events-flow">Microsoft Power Automate 内のビジネス イベント</a></p><hr><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、D365FO の Business Event の機能を用いて、Power Automate で Executing のままになっているバッチジョブを検知する方法をご紹介させていただきました。<br>もし、お困りのこと等がございましたら、弊社までお問い合わせ頂きますようお願いいたします。  </p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、日本マイクロソフトの佐藤です。&lt;br&gt;この記事では、Dynamics 365 for Finance and Operations (D365FO) の Business Event の機能を用いて、Power Automate で Executing のままになっているバッチ　ジョブを検知する方法をご案内します。&lt;/p&gt;
&lt;p&gt;バッチ ジョブの通常の処理時間が分かっている場合、この手順により、通常よりも長い時間 Executing のままになっているバッチ ジョブを検知することができます。  &lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO Tech" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-Tech/"/>
    
    <category term="Power Automate" scheme="https://jpdynamicserp.github.io/blog/tags/Power-Automate/"/>
    
    <category term="Business Event" scheme="https://jpdynamicserp.github.io/blog/tags/Business-Event/"/>
    
  </entry>
  
  <entry>
    <title>定期統合のREST APIの実行</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/how-to-check-recurring-job/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20Tech/how-to-check-recurring-job/</id>
    <published>2023-06-12T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.863Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、日本マイクロソフトの佐藤です。<br>この記事では、定期統合の REST API の実行をご案内します。<br>この手順により、定期的なデータジョブを実行した際にそのジョブに関するメッセージ状態を “キューから削除”、”ダウンロード済み”、”確認済み” のステータスに変更し、管理することができます。<br>今回は Power Automate を使用して、一連のフローを説明します。</p><span id="more"></span><h2 id="検証に用いた製品・バージョン"><a href="#検証に用いた製品・バージョン" class="headerlink" title="検証に用いた製品・バージョン"></a>検証に用いた製品・バージョン</h2><p>Dynamics 365 Finance and Operations<br>Application version: 10.0.33<br>Platform version: PU57</p><h2 id="作成するフロー"><a href="#作成するフロー" class="headerlink" title="作成するフロー"></a>作成するフロー</h2><p>最終的なフローとしては、下記のフローを作成します。</p><p><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job14.png"></p><h2 id="定期的なデータ-ジョブの管理に必要な値"><a href="#定期的なデータ-ジョブの管理に必要な値" class="headerlink" title="定期的なデータ ジョブの管理に必要な値"></a>定期的なデータ ジョブの管理に必要な値</h2><p>以下の手順は、下記の docs に記載されている内容を参照とした手順となっております。</p><p><a href="https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/data-entities/recurring-integrations">定期統合</a></p><p>後ほど使用するため、以下の ２ つの値においては、変数を設定しておきます。</p><p><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job13.png"></p><p>Tenant ID : </p><p>接続先のテナント ID</p><p>Activity ID : </p><p>[データ管理]　ワーク スペースからの[すべてのプロジェクト]から対象のプロジェクトを選択し、[管理] タブの [定期的なデータジョブの管理] から、IDより確認できます。</p><p><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job01.png"></p><p><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job02.png"></p><h2 id="アクセス-トークンの取得"><a href="#アクセス-トークンの取得" class="headerlink" title="アクセス トークンの取得"></a>アクセス トークンの取得</h2><p>Power Automate からアクセス トークンを取得します。</p><ol><li>アクセスする Azure Active Directory にアプリケーションを登録し、そのアプリケーションの各値を用います。</li></ol><p>アプリケーションは <a href="https://portal.azure.com/">Azure Portal</a> で [Azure Active Directory] を選択して[アプリの登録] から作成できます。<br><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job03.png"></p><p>アプリケーションを登録したら [概要] から “アプリケーション ID” をコピーしておきます。</p><p>また、[証明書とシークレット] から新しいクライアント シークレットを作成し、値をコピーします。シークレット IDではないため、注意してください。</p><p>[APIのアクセス許可] が下記のように [Microsoft Graph] が設定されていることを確認します。<br><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job04.png"></p><ol start="2"><li>Power Automateの画面で [HTTP] コネクタの [HTTP] アクションを選択し、下記のように設定します。</li></ol><p><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job05.png"></p><p>client_id には Application ID、 client_secret にはシークレット値を入力します。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">URI : </span><br><span class="line">https:<span class="comment">//login.microsoftonline.com/&lt;Tenant ID&gt;/oauth2/token</span></span><br><span class="line"></span><br><span class="line">Header : </span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/x-www-form-urlencoded&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attr">Body</span> : </span><br><span class="line">client_id=***&amp;client_secret=***&amp;resource=<span class="xml"><span class="tag">&lt;<span class="name">Environment</span> <span class="attr">URL</span>&gt;</span>&amp;grant_type=client_credentials</span></span><br></pre></td></tr></table></figure><ol start="3"><li>Power Automate の画面で [JSONの解析] アクションを選択し、下記のように設定します。</li></ol><p>コンテンツは [HTTP] アクションの本文を指定し、スキーマは下記を入力します。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;type&quot;</span>: <span class="string">&quot;object&quot;</span>,</span><br><span class="line">    <span class="string">&quot;properties&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;token_type&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;expires_in&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;ext_expires_in&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;expires_on&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;not_before&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;resource&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;access_token&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job06.png"></p><h2 id="定期的なデータ-ジョブの-REST-API"><a href="#定期的なデータ-ジョブの-REST-API" class="headerlink" title="定期的なデータ ジョブの REST API"></a>定期的なデータ ジョブの REST API</h2><p>メッセージ 状態を “キューから削除”、”ダウンロード済み”、”確認済み” のステータスに変更する手順をご案内します。</p><h2 id="キューから削除-Deque"><a href="#キューから削除-Deque" class="headerlink" title="キューから削除 (Deque)"></a>キューから削除 (Deque)</h2><p>ステータスを “キューから削除” にするためのアクションになります。</p><p>以降は [HTTP with Azure AD] コネクタの [HTTP要求を呼び出します] アクションを使用します。<br>そのため下記の接続設定画面で、[BaseResourceURL] と [AzureADResourceURI] に接続先の環境URLを入力します。<br><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job07.png"></p><p>方法にGETを設定し、各値を設定します。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line"></span><br><span class="line">Request URL : </span><br><span class="line">&lt;Environment URL&gt;/api/connector/dequeue/&lt;Activity ID&gt;</span><br><span class="line"></span><br><span class="line">Header : </span><br><span class="line">&#123;</span><br><span class="line">  &quot;Authorization&quot;: &quot;Bearer @&#123;body(&#x27;JSON_の解析_(HTTP)&#x27;)?[&#x27;access_token&#x27;]&#125;&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job08.png"></p><h2 id="ダウンロード"><a href="#ダウンロード" class="headerlink" title="ダウンロード"></a>ダウンロード</h2><p>ステータスを “ダウンロード済み” にするためのアクションになります。</p><p><a href="#%E3%82%AD%E3%83%A5%E3%83%BC%E3%81%AE%E5%89%8A%E9%99%A4deque">キューの削除(Deque)</a>で出力されたボディから、ダウンロード リンクを取得します。</p><ol><li>[JSONの解析] アクションを選択し、コンテンツは <a href="#%E3%82%AD%E3%83%A5%E3%83%BC%E3%81%AE%E5%89%8A%E9%99%A4deque">キューの削除(Deque)</a>の [HTTP] アクションの本文を指定し、スキーマは下記を入力します。</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;type&quot;</span>: <span class="string">&quot;object&quot;</span>,</span><br><span class="line">    <span class="string">&quot;properties&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;CorrelationId&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;PopReceipt&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;DownloadLocation&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;IsDownLoadFileExist&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;boolean&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job09.png"></p><ol start="2"><li>[JSONの解析] アクション後、[HTTP with Azure AD] コネクタの [HTTP要求を呼び出します] アクションを使用します。</li></ol><p>Request URL には、先ほどの [JSONの解析] アクションで出力される DownloadLocation を入力します。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line"></span><br><span class="line">Request URL :</span><br><span class="line">@&#123;body(<span class="string">&#x27;JSON_の解析&#x27;</span>)?[<span class="string">&#x27;DownloadLocation&#x27;</span>]&#125;</span><br><span class="line"></span><br><span class="line"><span class="attr">Header</span> : </span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;Authorization&quot;</span>: <span class="string">&quot;Bearer @&#123;body(&#x27;JSON_の解析_(HTTP)&#x27;)?[&#x27;access_token&#x27;]&#125;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;content_type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job10.png"></p><p>ダウンロードしたファイルは例として、下記のようなアクションを続けることで、メールにて送付することもできます。</p><p>添付ファイル名は ***.zip と zip ファイルの形式に設定することに注意してください。<br>添付ファイル コンテンツは ダウンロードの [HTTP要求を呼び出します] アクションで出力されるボディを設定します。</p><p><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job11.png"></p><h2 id="確認-Acknowledge"><a href="#確認-Acknowledge" class="headerlink" title="確認 (Acknowledge)"></a>確認 (Acknowledge)</h2><p>ステータスを “確認済み” にするためのアクションになります。</p><p>[HTTP with Azure AD] コネクタの [HTTP要求を呼び出します] アクションを使用します。<br>要求の本文には、<a href="#%E3%82%AD%E3%83%A5%E3%83%BC%E3%81%AE%E5%89%8A%E9%99%A4deque">キューの削除(Deque)</a> で出力されたボディをそのまま入力します。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line"></span><br><span class="line">Request URL :</span><br><span class="line">&lt;Environment URL&gt;/api/connector/ack/&lt;ActivityID&gt;</span><br><span class="line"></span><br><span class="line">Header : </span><br><span class="line">&#123;</span><br><span class="line">  &quot;Authorization&quot;: &quot;Bearer @&#123;body(&#x27;JSON_の解析_(HTTP)&#x27;)?[&#x27;access_token&#x27;]&#125;&quot;,</span><br><span class="line">  &quot;Content-Type&quot;: &quot;application/json&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Request Body : </span><br><span class="line">@&#123;body(&#x27;HTTP_要求を呼び出します_(deque)&#x27;)&#125;</span><br></pre></td></tr></table></figure><p><img src="/blog/D365FO%20Tech/how-to-check-recurring-job/how-to-check-recurring-job12.png"></p><hr><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、定期統合のREST APIの実行手順をご紹介させていただきました。<br>もし、お困りのこと等がございましたら、弊社までお問い合わせ頂きますようお願いいたします。  </p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、日本マイクロソフトの佐藤です。&lt;br&gt;この記事では、定期統合の REST API の実行をご案内します。&lt;br&gt;この手順により、定期的なデータジョブを実行した際にそのジョブに関するメッセージ状態を “キューから削除”、”ダウンロード済み”、”確認済み” のステータスに変更し、管理することができます。&lt;br&gt;今回は Power Automate を使用して、一連のフローを説明します。&lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO Tech" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-Tech/"/>
    
    <category term="recurring integrations" scheme="https://jpdynamicserp.github.io/blog/tags/recurring-integrations/"/>
    
    <category term="REST API" scheme="https://jpdynamicserp.github.io/blog/tags/REST-API/"/>
    
  </entry>
  
  <entry>
    <title>Power Automateでのデータ イベントのトリガー設定手順</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/how-to-makedataevent/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20Tech/how-to-makedataevent/</id>
    <published>2023-06-12T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.899Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、日本マイクロソフトの佐藤です。<br>この記事では、Power Automate でのデータ イベントのトリガー設定手順をご案内します。<br>この手順により、データの変更や更新が実行さえた際に Power Automate で検知できるようになります。</p><span id="more"></span><h2 id="検証に用いた製品・バージョン"><a href="#検証に用いた製品・バージョン" class="headerlink" title="検証に用いた製品・バージョン"></a>検証に用いた製品・バージョン</h2><p>Dynamics 365 Finance and Operations<br>Application version: 10.0.33<br>Platform version: PU57</p><h2 id="仮想エンティティの有効化"><a href="#仮想エンティティの有効化" class="headerlink" title="仮想エンティティの有効化"></a>仮想エンティティの有効化</h2><p>以下の手順は、下記の docs に記載されている内容を参照とした手順となっております。</p><p><a href="https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/power-platform/enable-virtual-entities">Microsoft Dataverse 仮想エンティティを有効化する</a></p><p>まず、下記の手順でデータ イベントを作成したい仮想エンティティを有効化します。</p><ol><li>   Power Platform 管理センターを開き、環境タブを選択します。</li><li>   環境の一覧で、Finance and Operations (FO) 環境に関連付けられている Power Platform 環境を選択します。</li><li>   環境ページの詳細セクションで環境 URL リンクを選択して Power Platform 環境を開きます。</li><li>   ページの右上で、設定のギア アイコンを開き、詳細設定を選択します。</li></ol><p><img src="/blog/D365FO%20Tech/how-to-makedataevent/how-to-makedataevent01.png"></p><ol start="5"><li>   ページの右上で、設定ページを開き、高度な検索フィルター アイコンを選択します。</li></ol><p><img src="/blog/D365FO%20Tech/how-to-makedataevent/how-to-makedataevent02.png"></p><ol start="6"><li>   高度な検索ページの検索対象ドロップダウン リストで、[使用可能な Finance and Operations エンティティ] を選択します。<br>エンティティの名前などの検索条件を入力し、結果を選択します。</li></ol><p><img src="/blog/D365FO%20Tech/how-to-makedataevent/how-to-makedataevent03.png"></p><ol start="7"><li>   有効にするエンティティを開きます。</li></ol><p><img src="/blog/D365FO%20Tech/how-to-makedataevent/how-to-makedataevent04.png"></p><ol start="8"><li>   [表示] チェック ボックスをチェックして、変更を保存します。</li></ol><p><img src="/blog/D365FO%20Tech/how-to-makedataevent/how-to-makedataevent05.png"></p><h2 id="Power-Automate-によるデータ-イベントの検知"><a href="#Power-Automate-によるデータ-イベントの検知" class="headerlink" title="Power Automate によるデータ イベントの検知"></a>Power Automate によるデータ イベントの検知</h2><p>以下の手順は、下記の docs に記載されている内容を参照とした手順となっております。</p><p><a href="https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/business-events/business-events-flow#subscribing-to-data-events">データ イベントの購読</a></p><p>右上の[環境] の選択から仮想エンティティを作成した Dataverse 環境を選択いただき、[行が追加、変更、または削除された場合] のDataverse コネクタのトリガーを作成しますと、[種類の変更] 項目が選択できますので、お客様の利用したい項目を選択します。</p><p>テーブル名では ”mserp” を検索いただけますと、有効化している仮想エンティティが検索できますので、仮想エンティティを選択します。</p><p>スコープは ”Organization” を選択します。</p><p><img src="/blog/D365FO%20Tech/how-to-makedataevent/how-to-makedataevent06.png"></p><p>上記のトリガーにより、データイベントをトリガーとしてフローを実行できます。</p><hr><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、Power Automate を使用したのデータ イベントのトリガー設定手順をご紹介させていただきました。<br>もし、お困りのこと等がございましたら、弊社までお問い合わせ頂きますようお願いいたします。  </p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、日本マイクロソフトの佐藤です。&lt;br&gt;この記事では、Power Automate でのデータ イベントのトリガー設定手順をご案内します。&lt;br&gt;この手順により、データの変更や更新が実行さえた際に Power Automate で検知できるようになります。&lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO Tech" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-Tech/"/>
    
    <category term="Data event" scheme="https://jpdynamicserp.github.io/blog/tags/Data-event/"/>
    
  </entry>
  
  <entry>
    <title>適格請求書等保存方式 (インボイス制度) における事業者番号の登録および請求書への印字について</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-QIInumber-setting/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-QIInumber-setting/</id>
    <published>2023-04-24T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.563Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Dynamics ERP サポートチームの尾崎です。<br>この記事では、 2023 年 10 月 1 日より開始される適格請求書等保存方式 (インボイス制度) における<br>事業者番号を Dynamics 365 Finance and Operations (D365FO) に登録する方法および請求書に事業者番号を印字する方法をご紹介します。  </p><p>なお制度の詳細については国税庁ホームページをご確認ください。<br><a href="https://www.nta.go.jp/taxes/shiraberu/taxanswer/shohi/6498.htm">No.6498 適格請求書等保存方式（インボイス制度）</a></p><span id="more"></span><h2 id="検証に用いた製品・バージョン"><a href="#検証に用いた製品・バージョン" class="headerlink" title="検証に用いた製品・バージョン"></a>検証に用いた製品・バージョン</h2><p>Dynamics 365 Finance and Operations<br>Application version : 10.0.34<br>Platform version : PU 58<br>Legal entity : JPMF  </p><h2 id="登録タイプの追加"><a href="#登録タイプの追加" class="headerlink" title="登録タイプの追加"></a>登録タイプの追加</h2><ol><li>[組織管理] &gt; [グローバル アドレス帳] &gt; [登録タイプ] &gt; [登録タイプ] を起動します。</li><li>[＋新規] より [名前]、[国/地域]、[更新可能] を設定し作成します。</li></ol><p><img src="/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-QIInumber-setting/new-invoicing-system-requirements-QIInumber-setting1.png"></p><h2 id="登録カテゴリの追加"><a href="#登録カテゴリの追加" class="headerlink" title="登録カテゴリの追加"></a>登録カテゴリの追加</h2><ol><li>[組織管理] &gt; [グローバル アドレス帳] &gt; [登録タイプ] &gt; [登録カテゴリ] を起動します。</li><li>[＋新規] より [登録タイプ] に「登録タイプの追加」で追加した名前を選択し、[登録カテゴリ] に “適格請求書発行者” を設定します。</li></ol><p><img src="/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-QIInumber-setting/new-invoicing-system-requirements-QIInumber-setting2.png"></p><h2 id="法人への登録番号の追加"><a href="#法人への登録番号の追加" class="headerlink" title="法人への登録番号の追加"></a>法人への登録番号の追加</h2><ol><li>[組織管理] &gt; [組織] &gt; [法人] を起動します。</li><li>ナビゲーション バーより [登録 ID] を開きます。</li><li>[登録 ID] タブより [＋追加] をクリックし、[登録タイプ] に「登録タイプの追加」で追加した名前を選択し、登録番号に適格請求書発行事業者としての登録番号を入力します。<br>　※仕入先についても登録番号を同様の手順で追加することが可能になっています。</li></ol><p><img src="/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-QIInumber-setting/new-invoicing-system-requirements-QIInumber-setting3.png"></p><h2 id="請求書への出力設定"><a href="#請求書への出力設定" class="headerlink" title="請求書への出力設定"></a>請求書への出力設定</h2><ol><li>[売掛金管理] &gt; [設定] &gt; [フォーム] &gt; [フォームの設定] を起動します。</li><li>[請求書] タブにて [請求書に適格請求書発行者の番号を印刷] にチェックをいれます。</li><li>[自由書式の請求書] タブでも同様に [請求書に適格請求書発行者の番号を印刷] にチェックをいれます。</li><li>[請求書] タブに戻り、[印刷の管理] を起動します。</li><li>[自由書式の請求書] から [オリジナル &lt;既定&gt;] を選択し、[レポート形式] に “FreeTextInvoice.Report_JP” を選択します。</li><li>[顧客請求書] でも同様に [オリジナル &lt;既定&gt;] を選択し、[レポート形式] に “FreeTextInvoice.Report_JP” を選択します。<br>　※本記事の執筆時点のバージョン 10.0.34 では上記 2 種類の請求書以外の請求書については未対応です。</li></ol><p><img src="/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-QIInumber-setting/new-invoicing-system-requirements-QIInumber-setting4.png"></p><h2 id="設定結果"><a href="#設定結果" class="headerlink" title="設定結果"></a>設定結果</h2><p>上記設定を元に請求書を出力すると以下のように登録した番号が印刷されることをご確認いただけます。</p><p><img src="/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-QIInumber-setting/new-invoicing-system-requirements-QIInumber-setting5.png"></p><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、適格請求書等保存方式 (インボイス制度) における事業者番号を Dynamics 365 Finance and Operations (D365FO) に登録する方法および請求書に事業者番号を印字する方法をご案内いたしました。<br>より詳細な情報が必要な場合、弊社テクニカルサポート、貴社担当のアカウントマネージャー (CSAM, PSAM)、弊社営業、およびクラウドソリューションアーキテクト (CSA-E) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、Dynamics ERP サポートチームの尾崎です。&lt;br&gt;この記事では、 2023 年 10 月 1 日より開始される適格請求書等保存方式 (インボイス制度) における&lt;br&gt;事業者番号を Dynamics 365 Finance and Operations (D365FO) に登録する方法および請求書に事業者番号を印字する方法をご紹介します。  &lt;/p&gt;
&lt;p&gt;なお制度の詳細については国税庁ホームページをご確認ください。&lt;br&gt;&lt;a href=&quot;https://www.nta.go.jp/taxes/shiraberu/taxanswer/shohi/6498.htm&quot;&gt;No.6498 適格請求書等保存方式（インボイス制度）&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="Japan localization" scheme="https://jpdynamicserp.github.io/blog/tags/Japan-localization/"/>
    
    <category term="Invoice" scheme="https://jpdynamicserp.github.io/blog/tags/Invoice/"/>
    
    <category term="New Invoicing system requirements" scheme="https://jpdynamicserp.github.io/blog/tags/New-Invoicing-system-requirements/"/>
    
  </entry>
  
  <entry>
    <title>D365FO で用いられるフライト (flight) について</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/what-is-flight/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20Tech/what-is-flight/</id>
    <published>2023-04-23T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:25.039Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、日本マイクロソフト Dynamics ERP サポート チームの永吉です。<br>この記事では、Dynamics 365 Finance and Operations にて用いられるフライトについて紹介します。</p><span id="more"></span><h2 id="目次"><a href="#目次" class="headerlink" title="目次"></a>目次</h2><ol><li><a href="#anchor-what-is-flight">フライトとは</a>  </li><li><a href="#anchor-diff-feat-mgmt">機能管理との違い</a>  </li><li><a href="#anchor-how-to-enable">フライトを有効にする方法</a>  </li><li><a href="#anchor-faq">よく寄せられる質問 (FAQ)</a>  </li></ol><h2 id="更新履歴"><a href="#更新履歴" class="headerlink" title="更新履歴"></a>更新履歴</h2><p>2023 年 4 月 24 日 : ブログ公開<br>2023 年 8 月 29 日 : よく寄せられる質問を更新しました。 (福原)</p><p><a id='anchor-what-is-flight'></a></p><h2 id="フライトとは"><a href="#フライトとは" class="headerlink" title="フライトとは"></a>フライトとは</h2><p>フライトに関して、以下の弊社公開資料にて言及されています。<br>公開資料 : <a href="https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview#what-is-feature-flighting-and-how-does-it-relate-to-feature-management">機能管理の概要 - Finance &amp; Operations | Dynamics 365 | Microsoft Learn</a><br>– 内容一部抜粋 –<br>機能フライトは、Microsoft が制御するリアルタイムのオン/オフ スイッチです。<br>– 内容一部抜粋ここまで –  </p><p>フライトとは、D365FO において非常に重要な役割を果たす実装方法のひとつです。プログラミングにおける「フラグ」と同様、フライトは特定の条件下で D365FO の動作や処理結果を制御するために使用されます。</p><p><a id='anchor-diff-feat-mgmt'></a></p><h2 id="機能管理との違い"><a href="#機能管理との違い" class="headerlink" title="機能管理との違い"></a>機能管理との違い</h2><p>機能管理 (Feature management) との違いに関しても、上述の公開資料にて言及されていますが、フライトと機能管理には明確な違いがあります。主な違いを以下に紹介します。<br>※ 以下で紹介する違いは一般的なものであり、全ての機能管理・フライトに該当するものではありません。予めご了承ください。 </p><ol><li>制御の主体 : 機能管理ではユーザーが機能の有効・無効を制御する一方で、フライトは Microsoft によって制御されています</li><li>ビジネス シナリオ : 機能管理では多くのビジネス シナリオを満たした機能として提供されますが、フライトでは一部のビジネス シナリオに特化した機能が提供されます</li><li>ビジネス ニーズの把握 : 機能管理では多くのビジネス ニーズに対応していると判断したものが提供されますが、ビジネス ニーズが十分に把握しきれていないものはフライトとして提供されます</li><li>影響範囲 : 機能管理ではユーザーが主体的に制御できるため、有効・無効を問わない利用が想定されていますが、フライトでは様々なビジネス シナリオへの影響を考慮し、有効・無効をある程度決めた状態での利用を想定しています</li><li>実装規模 : 機能管理はある程度まとまった機能を提供する際に用いられますが、フライトではプログラムの一部ロジックを分岐させるなどの小規模な機能を提供する際に用いられます</li></ol><p><a id='anchor-how-to-enable'></a></p><h2 id="フライトを有効にする方法"><a href="#フライトを有効にする方法" class="headerlink" title="フライトを有効にする方法"></a>フライトを有効にする方法</h2><p>フライトを有効にすることで生じる挙動の違いを確認・適用するためには以下の方法が必要です。  </p><ol><li>開発環境 (クラウドホスト環境) の場合 : VM 内の SSMS にてフライトを有効化する SQL を実行し、IIS の再起動を実行します。以下にクエリの一例を紹介します。<pre><code class="SQL">INSERT INTO DBO.SYSFLIGHTING (FLIGHTNAME, ENABLED, FLIGHTSERVICEID)VALUES (&#39;ReqCalcRestartResumeNativeToggle&#39;, 1, 12719367)  </code></pre></li><li>サンドボックス環境 ( Tier2 ~ Tier5 ) および本番環境の場合 : Microsoft へサポート リクエストを発行し、フライトの有効化を依頼します。</li></ol><p><a id='anchor-faq'></a></p><h2 id="よく寄せられる質問-FAQ"><a href="#よく寄せられる質問-FAQ" class="headerlink" title="よく寄せられる質問 (FAQ)"></a>よく寄せられる質問 (FAQ)</h2><h3 id="現在提供されているすべてのフライトを知りたいです"><a href="#現在提供されているすべてのフライトを知りたいです" class="headerlink" title="現在提供されているすべてのフライトを知りたいです"></a>現在提供されているすべてのフライトを知りたいです</h3><p>様々な背景によって提供されており、フライトの用途を 1 つずつ詳細に解説することができかねるため、全てのフライトを網羅的にご案内することができないものとなっております。開発している際などに、ソースコード内でフライトによって処理が分岐している点など気になる箇所があれば、都度サポート リクエストにてご質問ください。  </p><h3 id="フライトで実装されたものは将来的にもフライトとして制御され続けますか"><a href="#フライトで実装されたものは将来的にもフライトとして制御され続けますか" class="headerlink" title="フライトで実装されたものは将来的にもフライトとして制御され続けますか"></a>フライトで実装されたものは将来的にもフライトとして制御され続けますか</h3><p>十分なビジネス ニーズがあると判断した場合や、様々なビジネス シナリオへの影響が最小限だと判断した場合には、フライトにて制御していた機能を標準機能として実装し、フライト自体は削除する方針となっています。  </p><h3 id="フライトによる処理はどのタイミングで環境に提供されますか"><a href="#フライトによる処理はどのタイミングで環境に提供されますか" class="headerlink" title="フライトによる処理はどのタイミングで環境に提供されますか"></a>フライトによる処理はどのタイミングで環境に提供されますか</h3><p>フライト自体の追加やフライトによる処理ロジックの変更は、すべてバージョンアップによって環境に適用されます。例えば、10.0.32 の環境で実装されたフライトを 10.0.31 の環境で有効化しようとしても、そのフライトの処理ロジックがソースコードとして環境に適用されていないため、挙動は変わりません。Microsoftによる制御は、環境に存在するソースコード内でのフライトの有効・無効のみとなります。<br>したがって、特定のフライトを利用したい場合は、D365FO をフライトが実装されたバージョンまでアップデートすることが必要です。</p><h3 id="開発環境-クラウドホスト環境-、-サンドボックス環境-Tier2-Tier5-、本番環境のフライトの管理方法はどのように違いますか"><a href="#開発環境-クラウドホスト環境-、-サンドボックス環境-Tier2-Tier5-、本番環境のフライトの管理方法はどのように違いますか" class="headerlink" title="開発環境 (クラウドホスト環境) 、 サンドボックス環境 (Tier2 ~ Tier5) 、本番環境のフライトの管理方法はどのように違いますか"></a>開発環境 (クラウドホスト環境) 、 サンドボックス環境 (Tier2 ~ Tier5) 、本番環境のフライトの管理方法はどのように違いますか</h3><p>開発環境 (クラウドホスト環境) ではデータベース (AXDB) 内の SYSFLIGHTING テーブル内の値によりフライトの状態は管理されています。<br>そのため、上記の “フライトを有効にする方法” の SQL クエリによりフライトの状態を変更することができます。</p><p>サンドボックス環境 (Tier2 ~ Tier5) 、本番環境では、弊社システムによりフライトを管理しており、データベース (AXDB) 内にはフライトの状態を保持しておりません。<br>そのため、フライトの状態をお客様にて確認、変更することはできません。</p><h3 id="データベースのインポート、コピーによりソース環境のフライトの状態はターゲット環境に引き継がれますか"><a href="#データベースのインポート、コピーによりソース環境のフライトの状態はターゲット環境に引き継がれますか" class="headerlink" title="データベースのインポート、コピーによりソース環境のフライトの状態はターゲット環境に引き継がれますか"></a>データベースのインポート、コピーによりソース環境のフライトの状態はターゲット環境に引き継がれますか</h3><p>サンドボックス環境 (Tier2 ~ Tier5) 、本番環境では、ソース環境 (例: 本番環境) のデータベースをターゲット環境 (例: サンドボックス環境) にコピーする場合、ソース環境のフライトの状態はターゲット環境に引き継がれないです。<br>サンドボックス環境 (Tier2 ~ Tier5) 、本番環境はデータベース内にフライトの状態を保持していないため、フライトはデータベースのインポート、コピーの影響を受けません。</p><h3 id="サンドボックス環境-Tier2-Tier5-、本番環境にてフライトを有効化したい場合には各環境について-Microsoft-に依頼する必要がありますか"><a href="#サンドボックス環境-Tier2-Tier5-、本番環境にてフライトを有効化したい場合には各環境について-Microsoft-に依頼する必要がありますか" class="headerlink" title="サンドボックス環境 (Tier2 ~ Tier5) 、本番環境にてフライトを有効化したい場合には各環境について Microsoft に依頼する必要がありますか"></a>サンドボックス環境 (Tier2 ~ Tier5) 、本番環境にてフライトを有効化したい場合には各環境について Microsoft に依頼する必要がありますか</h3><p>基本的には各環境について依頼をして頂く必要があります。<br>フライトによってはテナント全体での有効化が可能です。<br>テナント全体でフライトが有効化された場合には、同一テナント内で新規作成されたサンドボックス環境 (Tier2 ~ Tier5) 、本番環境に対してもフライトは自動で有効化されます。</p><h3 id="サンドボックス環境-Tier2-Tier5-、本番環境でのフライトの有効化にはダウンタイムは発生しますか"><a href="#サンドボックス環境-Tier2-Tier5-、本番環境でのフライトの有効化にはダウンタイムは発生しますか" class="headerlink" title="サンドボックス環境 (Tier2 ~ Tier5) 、本番環境でのフライトの有効化にはダウンタイムは発生しますか"></a>サンドボックス環境 (Tier2 ~ Tier5) 、本番環境でのフライトの有効化にはダウンタイムは発生しますか</h3><p>サンドボックス環境 (Tier2 ~ Tier5) 、本番環境でのフライトの有効化は弊社での作業となりますが作業にはダウンタイムは発生しません。</p><hr><p>以上、 Dynamics 365 Finance and Operations におけるフライト機能を紹介いたしました。<br>より詳細な情報が必要な場合、弊社テクニカルサポート、貴社担当のアカウントマネージャー (CSAM, PSAM)、弊社営業、およびクラウドソリューションアーキテクト (CSA-E) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、日本マイクロソフト Dynamics ERP サポート チームの永吉です。&lt;br&gt;この記事では、Dynamics 365 Finance and Operations にて用いられるフライトについて紹介します。&lt;/p&gt;</summary>
    
    
    
    
    <category term="Information" scheme="https://jpdynamicserp.github.io/blog/tags/Information/"/>
    
    <category term="Flight" scheme="https://jpdynamicserp.github.io/blog/tags/Flight/"/>
    
  </entry>
  
  <entry>
    <title>D365BCの管理センターで表示される Service health について</title>
    <link href="https://jpdynamicserp.github.io/blog/D365BC%20Tech/how-to-check-servicehealth-d365bc/"/>
    <id>https://jpdynamicserp.github.io/blog/D365BC%20Tech/how-to-check-servicehealth-d365bc/</id>
    <published>2023-03-22T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.459Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Dynamics ERP サポートチームの細野です。<br>この記事では、Dynamics 365 Business Central (D365BC) の管理センターで表示される Service health についてご紹介します。</p><span id="more"></span><h2 id="Service-health-の詳細について"><a href="#Service-health-の詳細について" class="headerlink" title="Service health の詳細について"></a>Service health の詳細について</h2><p>Service health においては、現在掲示されている Incident、Advisory の件数をご確認いただくことが可能です。<br>Incident や Advisory の詳細な内容について確認されたい場合は “Service health” という文字の部分をクリックしてください。<br>クリックいただくことにより Microsoft 365 管理センター サービス正常性が開かれ、同サイト内で詳細な内容をご確認いただくことが可能です。<br>Incident や Advisory の詳細を Business Central admin center で確認いただく方法は、現時点にてございません。<br><img src="/blog/D365BC%20Tech/how-to-check-servicehealth-d365bc/01.png"></p><h2 id="Service-health-で表示される件数の対象について"><a href="#Service-health-で表示される件数の対象について" class="headerlink" title="Service health で表示される件数の対象について"></a>Service health で表示される件数の対象について</h2><p>Service health にて表示される Incident や Advisory の件数は、現時点にて D365BC のみではなく他サービスも対象としております。<br>「1 Incident」と表示されている場合に、必ずしも D365BC にて障害が発生している状況ではないことにご留意ください。</p><hr><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、Dynamics 365 Business Central (D365BC) の管理センターで表示される Service health についてご紹介いたしました。<br>より詳細な情報が必要な場合、弊社テクニカルサポート、貴社担当のアカウントマネージャー (CSAM, PSAM)、弊社営業、およびクラウドソリューションアーキテクト (CSA-E) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、Dynamics ERP サポートチームの細野です。&lt;br&gt;この記事では、Dynamics 365 Business Central (D365BC) の管理センターで表示される Service health についてご紹介します。&lt;/p&gt;</summary>
    
    
    
    
    <category term="D365BC Tech" scheme="https://jpdynamicserp.github.io/blog/tags/D365BC-Tech/"/>
    
    <category term="Service health" scheme="https://jpdynamicserp.github.io/blog/tags/Service-health/"/>
    
  </entry>
  
  <entry>
    <title>適格請求書等保存方式 (インボイス制度) の対応状況について</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/new-invoicing-system-requirements/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/new-invoicing-system-requirements/</id>
    <published>2023-03-22T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.571Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Dynamics ERP サポートチームの尾崎です。<br>この記事では、 2023 年 10 月 1 日より開始される適格請求書等保存方式 (インボイス制度) について<br>Dynamics 365 Finance and Operations (D365FO) における対応状況を随時更新して参ります。  </p><span id="more"></span><p>弊社では各チャネルでお客様への情報公開の準備を進めています。<br>記事更新時点で公開が確認されているものおよび公開が予定されているものについて記載しています。  </p><p>なお制度の詳細については国税庁ホームページをご確認ください。<br><a href="https://www.nta.go.jp/taxes/shiraberu/taxanswer/shohi/6498.htm">No.6498 適格請求書等保存方式（インボイス制度）</a>  </p><h2 id="変更予定の内容"><a href="#変更予定の内容" class="headerlink" title="変更予定の内容"></a>変更予定の内容</h2><p>売掛金管理の請求書、買掛金管理の請求書、プロジェクト請求書および各種月次締め請求書にて<br>適格請求書発行事業者としての登録番号が記載されるようになります。<br>また、請求書の消費税欄には総額から算出した消費税額を表示するように変更が行われます。  </p><h2 id="情報公開チャネル"><a href="#情報公開チャネル" class="headerlink" title="情報公開チャネル"></a>情報公開チャネル</h2><ol><li>Issue search<br> LCS の Issue search では以下の問題番号より最新の状況をご確認いただくことが可能になっております。<br> 記載のリリースバージョンやリリース予定日については更新時点での目安となっており、予告なく変更される場合がございます。あらかじめご了承ください。<br> <a href="https://fix.lcs.dynamics.com/Issue/Details?bugId=3993335&dbType=1&qc=6d1ad5edb8ddbde5803973547e7f38aa41021ef5939f24d4a43f17f83ad5a332">Issue: 3993335</a>  </li><li>Yammer<br> Yammer でのアナウンスを予定しております。投稿が行われましたら投稿先を掲載予定です。  </li></ol><h2 id="近日公開の機能"><a href="#近日公開の機能" class="headerlink" title="近日公開の機能"></a>近日公開の機能</h2><p>適格請求書発行事業者の登録番号を入力する機能がバージョン 10.0.34 にてリリースされております。<br>登録方法は以下の記事にてご案内しております。<br><a href="https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-QIInumber-setting/">https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-QIInumber-setting/</a></p><p>その他の機能についてもリリース時期が決定次第、Issue Search や本記事内で随時更新いたします。</p><h2 id="経過措置について"><a href="#経過措置について" class="headerlink" title="経過措置について"></a>経過措置について</h2><p>免税事業者などとの仕入取引に対する経過措置の対応方法を以下の記事で公開しております。<br><a href="https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-transitional-measures/">適格請求書等保存方式 (インボイス制度) における事業者番号の登録および請求書への印字について | Japan Dynamics ERP Support Blog</a></p><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、適格請求書等保存方式 (インボイス制度) の対応状況についてご案内いたしました。<br>より詳細な情報が必要な場合、弊社テクニカルサポート、Customer Success Account Manager (CSAM), Customer Engineer (CE) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、Dynamics ERP サポートチームの尾崎です。&lt;br&gt;この記事では、 2023 年 10 月 1 日より開始される適格請求書等保存方式 (インボイス制度) について&lt;br&gt;Dynamics 365 Finance and Operations (D365FO) における対応状況を随時更新して参ります。  &lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO Finance" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-Finance/"/>
    
    <category term="Japan localization" scheme="https://jpdynamicserp.github.io/blog/tags/Japan-localization/"/>
    
    <category term="New Invoicing system requirements" scheme="https://jpdynamicserp.github.io/blog/tags/New-Invoicing-system-requirements/"/>
    
  </entry>
  
  <entry>
    <title>保管場所を移動しても償却資産税申告書に反映されない事象について</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/form26-report-fixed-asset-location-issue/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/form26-report-fixed-asset-location-issue/</id>
    <published>2023-03-19T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.475Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Dynamics ERP サポートチームの尾崎です。<br>この記事では固定資産の保管場所を移動した際に、償却資産税申告書に移動結果が反映されない事象についてご案内します。</p><span id="more"></span><h2 id="更新履歴"><a href="#更新履歴" class="headerlink" title="更新履歴"></a>更新履歴</h2><p>2023 年 3 月 20 日 (月) : ブログ公開<br>2023 年 5 月 10 日 (水) : タイムライン更新</p><h2 id="検証に用いた製品・バージョン"><a href="#検証に用いた製品・バージョン" class="headerlink" title="検証に用いた製品・バージョン"></a>検証に用いた製品・バージョン</h2><p>Dynamics 365 Finance and Operations<br>Application version: 10.0.32<br>Platform version: PU56  </p><h2 id="事象の再現手順"><a href="#事象の再現手順" class="headerlink" title="事象の再現手順"></a>事象の再現手順</h2><p>弊社標準環境 JPMF を使用した事象の再現手順は以下のようになっております。</p><ol><li>固定資産パラメーターにて場所移動を許可します。</li></ol><p><img src="/blog/D365FO%20App%20FIN/form26-report-fixed-asset-location-issue/form26-report-fixed-asset-location-issue1.png"></p><ol start="2"><li>減価償却プロファイルにて電算処理方式の期間の頻度を年 1 回に変更します。</li></ol><p><img src="/blog/D365FO%20App%20FIN/form26-report-fixed-asset-location-issue/form26-report-fixed-asset-location-issue2.png"></p><ol start="3"><li>固定資産の作成を行います。帳簿には Form26 を含むようにします。</li><li>作成した固定資産を取得し、減価償却を行います。</li><li>固定資産の場所を移動します。転送先の場所を押下後、移動場所と転送日を入力し更新します。</li></ol><p><img src="/blog/D365FO%20App%20FIN/form26-report-fixed-asset-location-issue/form26-report-fixed-asset-location-issue3.png"></p><ol start="6"><li><p>固定資産の場所移動を確定後、申告 26 レポートを起動します。<br>　固定資産 &gt; 照会およびレポート &gt; 減価償却資産申告レポート &gt; 申告 26: 償却資産税の元帳レポート</p></li><li><p>レポートを出力すると場所移動前の市区町村にて出力される事象が確認できます。<br>　また本事象は以下 2 つのレポートでも発生することを確認しております。<br>　申告 26 - 1: 全資産および増加資産のタイプごとの詳細レポート<br>　申告 26 - 2: 減少資産のタイプごとの詳細レポート<br><img src="/blog/D365FO%20App%20FIN/form26-report-fixed-asset-location-issue/form26-report-fixed-asset-location-issue4.png"></p></li></ol><h2 id="修正方針"><a href="#修正方針" class="headerlink" title="修正方針"></a>修正方針</h2><p>場所の移動結果が正しくレポートに反映されるよう修正を行う方針でございます。</p><h2 id="今後のタイムライン"><a href="#今後のタイムライン" class="headerlink" title="今後のタイムライン"></a>今後のタイムライン</h2><p>バージョン 10.0.38 にて修正プログラムがリリースされる予定でございます。<br>※リリース予定のバージョンは変更される場合がございます。予めご了承ください。</p><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、固定資産の保管場所を移動した際に、償却資産税申告書に移動結果が反映されない事象についてご案内いたしました。<br>より詳細な情報が必要な場合、弊社テクニカルサポート、貴社担当のアカウントマネージャー (CSAM, PSAM)、弊社営業、およびクラウドソリューションアーキテクト (CSA-E) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、Dynamics ERP サポートチームの尾崎です。&lt;br&gt;この記事では固定資産の保管場所を移動した際に、償却資産税申告書に移動結果が反映されない事象についてご案内します。&lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO Fixed Assets issue" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-Fixed-Assets-issue/"/>
    
  </entry>
  
  <entry>
    <title>D365FO でデモデータを含んだ環境の構築方法と検証シナリオ毎のおすすめ法人</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/how-to-create-env-with-sample-data/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20Tech/how-to-create-env-with-sample-data/</id>
    <published>2023-03-12T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.871Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Dynamics ERP サポートチームの永吉です。<br>この記事では、 Dynamics 365 Finance and Operations にて、 デモデータを含んだ環境の構築方法と検証シナリオ毎のおすすめ法人を紹介します。</p><span id="more"></span><h2 id="検証に用いた製品・バージョン"><a href="#検証に用いた製品・バージョン" class="headerlink" title="検証に用いた製品・バージョン"></a>検証に用いた製品・バージョン</h2><p>Dynamics 365 Finance and Operations<br>Application version: 10.0.31<br>Platform version: PU55</p><h2 id="デモデータを含んだ環境構築方法"><a href="#デモデータを含んだ環境構築方法" class="headerlink" title="デモデータを含んだ環境構築方法"></a>デモデータを含んだ環境構築方法</h2><p>以下の公開資料を基に記載しています。<br><a href="https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/deployment/deploy-demo-environment#deploy-a-demo-environment-1">デモ環境の配置 - Finance &amp; Operations | Dynamics 365 | Microsoft Learn</a></p><ol><li><p>LCS でクラウドホストの構築画面まで進む<br>実装プロジェクトの場合 : プロジェクト画面 &gt; ハンバーガーボタン &gt; クラウド ホスト環境 &gt; [+ 追加] ボタン<br>非実装プロジェクトの場合 : プロジェクト画面 &gt; [+] ボタン または ハンバーガーボタン &gt; クラウド ホスト環境 &gt; [+ 追加] ボタン<br><img src="/blog/D365FO%20Tech/how-to-create-env-with-sample-data/create-env-1.png">  </p></li><li><p>任意のバージョンを選択し、[次へ] をクリックする<br><img src="/blog/D365FO%20Tech/how-to-create-env-with-sample-data/create-env-2.png">  </p></li><li><p>環境のトポロジとして [DEVTEST] をクリックする<br>※ 実際の利用目的によって [DEMO] を選択いただいても構いません。<br><img src="/blog/D365FO%20Tech/how-to-create-env-with-sample-data/create-env-3.png">  </p></li><li><p>環境のトポロジとして [Develop] をクリックする<br>※ 実際の利用目的によって [Build and Test] を選択いただいても構いません。<br><img src="/blog/D365FO%20Tech/how-to-create-env-with-sample-data/create-env-4.png">  </p></li><li><p>使用する Azure コネクタを選択する<br>※ プロジェクトに対して 1 つのコネクタしか存在しない場合、本画面はスキップされます。</p></li><li><p>環境の配置画面にて [詳細設定] &gt; [Customize SQL Database Configuration] &gt; [AX DATABASE (DEVELOPER VM)] を [Demo] に設定する<br><img src="/blog/D365FO%20Tech/how-to-create-env-with-sample-data/create-env-5.png"><br><img src="/blog/D365FO%20Tech/how-to-create-env-with-sample-data/create-env-6.png">  </p></li><li><p>その他必要事項を入力し、環境を構築する</p></li><li><p>構築後、法人を選択する画面にて以下で紹介する法人がリストされていれば成功です<br><img src="/blog/D365FO%20Tech/how-to-create-env-with-sample-data/create-env-7.png">  </p></li></ol><h2 id="検証シナリオ毎のおすすめ法人"><a href="#検証シナリオ毎のおすすめ法人" class="headerlink" title="検証シナリオ毎のおすすめ法人"></a>検証シナリオ毎のおすすめ法人</h2><p>テクニカル サポート チームでは検証時にそれぞれの検証目的に合わせて使用する法人を決めています。<br>以下の法人がそれぞれの検証シナリオにおけるオススメの法人となりますため、ご参考になれば幸いです。<br>| 法人 (Legal Entity) | 検証目的 |<br>|-|-|<br>| USMF | 基本的な挙動の検証 |<br>| JPMF | 日本ローカライズ機能の検証 |<br>| DEMF | 会社間取引の検証 |<br>| USRT | Commerce の検証 |<br>| USSI | プロジェクト マネジメントの検証 |<br>| USPM | Project Operations の検証 |<br>| CNMF | 中国ローカライズ機能の挙動の検証 |<br>| THMF | タイのローカライズ機能の検証 |<br>| INMF | インドのローカライズ機能の検証 |</p><hr><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、 Dynamics 365 Finance and Operations にて、 デモデータを含んだ環境の構築方法と検証シナリオ毎のおすすめ法人についてご紹介しました。<br>より詳細な情報が必要な場合、弊社テクニカルサポート、貴社担当のアカウントマネージャー (CSAM, PSAM)、弊社営業、およびクラウドソリューションアーキテクト (CSA-E) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、Dynamics ERP サポートチームの永吉です。&lt;br&gt;この記事では、 Dynamics 365 Finance and Operations にて、 デモデータを含んだ環境の構築方法と検証シナリオ毎のおすすめ法人を紹介します。&lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO Tech" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-Tech/"/>
    
    <category term="Demo data" scheme="https://jpdynamicserp.github.io/blog/tags/Demo-data/"/>
    
    <category term="Standard" scheme="https://jpdynamicserp.github.io/blog/tags/Standard/"/>
    
  </entry>
  
  <entry>
    <title>10.0.32 以降の MRP エンジン (計画最適化) について</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20App%20SCM/change-mrp-engine-from-32/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20App%20SCM/change-mrp-engine-from-32/</id>
    <published>2023-02-28T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.579Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、日本マイクロソフト Dynamics ERP サポート チームの永吉です。<br>この記事では、 Dynamics 365 Finance and Operations における MRP エンジンの変更のロードマップや注意点をご案内します。</p><span id="more"></span><h2 id="目次"><a href="#目次" class="headerlink" title="目次"></a>目次</h2><ol><li><a href="#anchor-mrp">既存 MRP エンジンについて</a><ol><li><a href="#anchor-mrp-roadmap">ロードマップ</a>  </li><li><a href="#anchor-mrp-support">テクニカル サポートの対応について</a></li></ol></li><li><a href="#anchor-po">計画最適化 (Planning Optimization) について</a><ol><li><a href="#anchor-po-roadmap">ロードマップ</a></li><li><a href="#anchor-po-migration">移行について</a></li><li><a href="#anchor-po-exception">例外申請</a></li></ol></li><li><a href="#anchor-resource">リソース</a></li><li><a href="#anchor-finish">おわりに</a></li></ol><h2 id="更新履歴"><a href="#更新履歴" class="headerlink" title="更新履歴"></a>更新履歴</h2><p>2023 年 3 月 1 日 : ブログ公開<br>2023 年 3 月 24 日 : 既存 MRP エンジンのロードマップの適用日時を追記</p><p><a id='anchor-mrp'></a></p><p><a id='anchor-mrp-roadmap'></a></p><h2 id="ロードマップ"><a href="#ロードマップ" class="headerlink" title="ロードマップ"></a>ロードマップ</h2><p>既存 MRP エンジンは Dynamics 365 Finance and Operations として非推奨となり、以下の提供方針が 10.0.32 以降および 2023 年 3 月 20 日より適用されます。  </p><ul><li>既存 MRP エンジンに対して新しい機能の実装は予定しておりません</li><li>既存 MRP エンジンに対して基本的にはバグ修正は実施されません (ブロッカーおよびセキュリティ関連を除く)</li><li>既存 MRP エンジンを Dynamics 365 Finance and Operations からの排除は予定しておりません</li></ul><p><a id='anchor-mrp-support'></a></p><h2 id="テクニカル-サポートの対応について"><a href="#テクニカル-サポートの対応について" class="headerlink" title="テクニカル サポートの対応について"></a>テクニカル サポートの対応について</h2><p>既存 MRP エンジンは非推奨となるため、お問い合わせを起票いただく際には以下の内容をご確認・ご理解ください。</p><ul><li>計画最適化 (Planning Optimization : 以下 計画最適化) にて事象が再現する場合のみ、再現検証および想定挙動を調査します<br>※ 計画最適化における事象の再現可否はお客様にて検証いただきますようお願いいたします。<br>※ 以下<a href="#anchor-po-migration">*</a> でもご紹介しますが、同一環境の法人ごとに計画最適化を有効化できるため、再現検証用に法人をコピーしていただき、そこで検証した結果を基にお問い合わせいただくことを推奨いたします。</li><li>マイクロソフトにて調査した結果、想定挙動ではないと判断した場合、計画最適化に対してのみ修正を提供します</li><li>お問い合わせの事象が既存 MRP エンジンにおけるクリティカルな問題の場合には、事前にビジネス インパクトも併せてご提供ください<br>関連ブログ : <a href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/what-is-business-impact/">お客様のビジネスインパクトをお伺いする目的や算出について</a></li></ul><p><a id='anchor-po'></a></p><h1 id="計画最適化-Planning-Optimization-について"><a href="#計画最適化-Planning-Optimization-について" class="headerlink" title="計画最適化 (Planning Optimization) について"></a>計画最適化 (Planning Optimization) について</h1><p><a id='anchor-po-roadmap'></a></p><h2 id="ロードマップ-1"><a href="#ロードマップ-1" class="headerlink" title="ロードマップ"></a>ロードマップ</h2><p>計画最適化では以下の提供方針が 10.0.32 以降適用されます。</p><ul><li>既存 MRP エンジンとの差分機能や設定については、新規お問い合わせにて計画最適化への追加希望をご依頼いただくことで実装可否を検討するリストへ追加されます</li><li>計画最適化の内部処理へのカスタマイズは基本的に実装できないため、お客様の運用を計画最適化に合わせていただくことを検討ください</li><li>内部処理のカスタマイズを希望する箇所がある際には、Ideas に投稿ください<br>関連ブログ : <a href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/how-to-post-ideas/">Dynamics 365 製品のフィードバックサイト Ideas について</a></li></ul><p><a id='anchor-po-migration'></a></p><h2 id="移行について"><a href="#移行について" class="headerlink" title="移行について"></a>移行について</h2><p>既存 MRP エンジンから計画最適化への移行に際して、同一環境の法人 (Legal entity) ごとに移行することが可能となります。<br>計画最適化の検証時に法人をコピーして使用する際には、”法人へのコピー” 機能のご利用ください。<br>関連公開資料 : <a href="https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/data-entities/copy-configuration#copy-into-a-legal-entity">法人へのコピー</a></p><p><a id='anchor-po-exception'></a></p><h2 id="例外申請"><a href="#例外申請" class="headerlink" title="例外申請"></a>例外申請</h2><p>計画最適化の例外申請が 10.0.32 以降で以下の方法および内容へ変更となります。</p><ul><li>Microsoft Managed ではない環境では、計画最適化へ移行を促すメッセージが表示されません</li><li>Microsoft Managed 環境にて既存 MRP エンジンを用いて手動で MRP を実行した際に、例外申請の案内が表示されるため、内容に沿って項目を選択し、申請ください<br>※ バッチ ジョブにて実行した際には案内は表示されず、また実行結果に影響もありません</li><li>検証等で複数回手動で MRP を実行する際に都度案内が表示されることが煩わしい場合は、”Customizations” の項目を “Yes” と設定ください</li></ul><p><a id='anchor-resource'></a></p><h1 id="リソース"><a href="#リソース" class="headerlink" title="リソース"></a>リソース</h1><p>既存 MRP エンジンから計画最適化への移行に際して、以下の公開資料を必要に応じてご確認ください。  </p><ul><li><a href="https://learn.microsoft.com/ja-jp/dynamics365/supply-chain/master-planning/planning-optimization/get-started">計画最適化の使用を開始する - Microsoft Learn</a></li><li><a href="https://learn.microsoft.com/ja-jp/dynamics365/supply-chain/master-planning/planning-optimization/planning-optimization-differences-with-built-in">計画最適化と既存 MRP エンジンの相違点 - Microsoft Learn</a></li><li><a href="https://learn.microsoft.com/ja-jp/dynamics365/supply-chain/master-planning/planning-optimization/not-used-parameters">計画最適化にて考慮されないパラメーター - Microsoft Learn</a></li><li><a href="https://learn.microsoft.com/ja-jp/dynamics365/supply-chain/master-planning/planning-optimization/release-process">計画最適化の機能リリース予定および履歴 - Microsoft Learn</a></li><li><a href="https://learn.microsoft.com/ja-jp/dynamics365/supply-chain/master-planning/planning-optimization/planning-optimization-fit-analysis">計画最適化の適合分析 (fit analysis) - Microsoft Learn</a></li><li><a href="https://learn.microsoft.com/ja-jp/dynamics365/supply-chain/master-planning/new-master-planning-engine">既存 MRP エンジンから計画最適化への移行 - Microsoft Learn</a></li><li><a href="https://learn.microsoft.com/ja-jp/dynamics365/supply-chain/master-planning/planning-optimization/planning-optimization-trouble-shooting">計画最適化のトラブルシューティング - Microsoft Learn</a></li><li><a href="https://www.yammer.com/dynamicsaxfeedbackprograms/#/threads/inGroup?type=in_group&feedId=17348655">計画最適化に関する Yammer グループ</a></li></ul><h2 id=""><a href="#" class="headerlink" title=""></a><a id='anchor-finish'></a></h2><h1 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h1><p>以上、 Dynamics 365 Finance and Operations における MRP エンジンの変更のロードマップや注意点を紹介いたしました。<br>より詳細な情報が必要な場合、弊社テクニカルサポート、貴社担当のアカウントマネージャー (CSAM, PSAM)、弊社営業、およびクラウドソリューションアーキテクト (CSA-E) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、日本マイクロソフト Dynamics ERP サポート チームの永吉です。&lt;br&gt;この記事では、 Dynamics 365 Finance and Operations における MRP エンジンの変更のロードマップや注意点をご案内します。&lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO SCM" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-SCM/"/>
    
    <category term="Master Planning" scheme="https://jpdynamicserp.github.io/blog/tags/Master-Planning/"/>
    
  </entry>
  
  <entry>
    <title>電子帳簿保存法に関する Dynamics 365 Finance and Operations のホワイトペーパー</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/White-paper-that-the-Act-on-Book-and-Record-Keeping-through-Electronic-Method/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/White-paper-that-the-Act-on-Book-and-Record-Keeping-through-Electronic-Method/</id>
    <published>2023-02-27T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.467Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Dynamics ERP サポートチームの永吉です。<br>この記事では、 2023 年 2 月時点で施行されている電子帳簿保存法に対する<br>Dynamics 365 Finance and Operations (D365FO) のホワイトペーパーをご案内します。  </p><span id="more"></span><p>以下の URL より、2023 年 2 月時点における電子帳簿保存法に対する D365FO のホワイトペーパーがダウンロードいただけます。<br><a href="https://info.microsoft.com/JA-D365Ops-CNTNT-FY23-02Feb-17-Microsoft-Dynamics-365-Electronic-Book-Retention-Act-Whitepaper-SRGCM9261_LP01-Registration---Form-in-Body.html">Microsoft Dynamics 365 電子帳簿保存法対応ホワイトペーパー</a></p><p>なお制度の詳細については国税庁ホームページをご確認ください。<br><a href="https://www.nta.go.jp/law/joho-zeikaishaku/sonota/jirei/tokusetsu/index.htm">電子帳簿保存制度特設サイト</a>  </p><h2 id="免責事項"><a href="#免責事項" class="headerlink" title="免責事項"></a>免責事項</h2><p>本ドキュメントは暫定版であり、ドキュメントの発行日におけるマイクロソフトの見解を示すものです。<br>本ドキュメントは情報共有のみを目的としています。<br>D365FO の機能の唯一の使用方法を示すものではありません。<br>実際のご利用に際してはお客様ご自身の責任において、このドキュメントに記載された内容のご理解を願います。</p><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、電子帳簿保存法に対する D365FO のホワイトペーパーについてご案内いたしました。<br>より詳細な情報が必要な場合、弊社テクニカルサポート、貴社担当のアカウントマネージャー (CSAM, PSAM)、弊社営業、およびクラウドソリューションアーキテクト (CSA-E) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、Dynamics ERP サポートチームの永吉です。&lt;br&gt;この記事では、 2023 年 2 月時点で施行されている電子帳簿保存法に対する&lt;br&gt;Dynamics 365 Finance and Operations (D365FO) のホワイトペーパーをご案内します。  &lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO Finance" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-Finance/"/>
    
    <category term="the Act on Book and Record Keeping through Electronic Method" scheme="https://jpdynamicserp.github.io/blog/tags/the-Act-on-Book-and-Record-Keeping-through-Electronic-Method/"/>
    
    <category term="Japan localization" scheme="https://jpdynamicserp.github.io/blog/tags/Japan-localization/"/>
    
  </entry>
  
  <entry>
    <title>適格請求書等保存方式 (インボイス制度) における経過措置の対応方法について</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-transitional-measures/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-transitional-measures/</id>
    <published>2023-02-14T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.567Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Dynamics ERP サポートチームの尾崎です。<br>この記事では、 2023 年 10 月 1 日より開始される適格請求書等保存方式 (インボイス制度) において生じる<br>免税事業者などに対する経過措置について Dynamics 365 Finance and Operations (D365FO) における登録方法をご紹介します。<br>こちらの記事でご紹介する登録方法では消費税コードに非控除割合を設定することで、経過措置期間中の仕入税額控除とみなすことのできる割合を管理します。非控除割合を登録していただくことで、非控除分の金額が費用科目として転記されるようになります。</p><p>なお制度の詳細については国税庁ホームページをご確認ください。<br><a href="https://www.nta.go.jp/taxes/shiraberu/taxanswer/shohi/6498.htm">No.6498 適格請求書等保存方式（インボイス制度）</a></p><span id="more"></span><h2 id="検証に用いた製品・バージョン"><a href="#検証に用いた製品・バージョン" class="headerlink" title="検証に用いた製品・バージョン"></a>検証に用いた製品・バージョン</h2><p>Dynamics 365 Finance and Operations<br>Application version: 10.0.31<br>Platform version: PU 55</p><h2 id="消費税コードの設定"><a href="#消費税コードの設定" class="headerlink" title="消費税コードの設定"></a>消費税コードの設定</h2><ol><li>税金 &gt; 間接税 &gt; 消費税 &gt; 消費税コード を起動します。</li><li>非控除割合を設定するためのの消費税コードを新規作成します。</li><li>コード、名称、決済期間、元帳転記グループなどに任意の値を登録します。</li><li>消費税コード &gt; 値 を起動します。</li></ol><p><img src="/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-transitional-measures/new-invoicing-system-requirements-transitional-measures1.png"></p><ol start="5"><li>仕入税額とみなすことのできない割合を非控除に登録します。</li></ol><p><img src="/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-transitional-measures/new-invoicing-system-requirements-transitional-measures2.png"></p><ol start="6"><li>登録した消費税コードを呼出可能にするため、消費税グループおよび品目消費税グループにおいて追加設定します。</li></ol><h2 id="設定結果"><a href="#設定結果" class="headerlink" title="設定結果"></a>設定結果</h2><p>上記設定を元に仕入先請求書を転記した結果、伝票は以下のようになります。<br>非控除に設定した割合が費用として転記されていることをご確認いただけます。</p><p><img src="/blog/D365FO%20App%20FIN/new-invoicing-system-requirements-transitional-measures/new-invoicing-system-requirements-transitional-measures3.png"></p><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、免税事業者などに対する経過措置について Dynamics 365 Finance and Operations (D365FO) における登録方法についてご案内いたしました。<br>より詳細な情報が必要な場合、弊社テクニカルサポート、Customer Success Account Manager (CSAM), Customer Engineer (CE) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、Dynamics ERP サポートチームの尾崎です。&lt;br&gt;この記事では、 2023 年 10 月 1 日より開始される適格請求書等保存方式 (インボイス制度) において生じる&lt;br&gt;免税事業者などに対する経過措置について Dynamics 365 Finance and Operations (D365FO) における登録方法をご紹介します。&lt;br&gt;こちらの記事でご紹介する登録方法では消費税コードに非控除割合を設定することで、経過措置期間中の仕入税額控除とみなすことのできる割合を管理します。非控除割合を登録していただくことで、非控除分の金額が費用科目として転記されるようになります。&lt;/p&gt;
&lt;p&gt;なお制度の詳細については国税庁ホームページをご確認ください。&lt;br&gt;&lt;a href=&quot;https://www.nta.go.jp/taxes/shiraberu/taxanswer/shohi/6498.htm&quot;&gt;No.6498 適格請求書等保存方式（インボイス制度）&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO Finance" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-Finance/"/>
    
    <category term="Japan localization" scheme="https://jpdynamicserp.github.io/blog/tags/Japan-localization/"/>
    
    <category term="New Invoicing system requirements" scheme="https://jpdynamicserp.github.io/blog/tags/New-Invoicing-system-requirements/"/>
    
  </entry>
  
  <entry>
    <title>Dynamics 365 for Finance and Operations をご利用いただく際の留意事項、ご協力いただきたい事項</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/about-fno-support/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20Tech/about-fno-support/</id>
    <published>2023-02-09T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.839Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Dynamics 365 ERP サポートチームです。<br>今回は、Dynamics 365 for Finance and Operations をご利用いただく際の留意事項、ご協力いただきたい事項についてご紹介します。</p><span id="more"></span><hr><p>Dynamics 365 for Finance and Operations では、稼働中一時的に接続が失われることがございます。<br>これらは障害の発生を未然に防ぐためのものとなり、自動で復旧する際に発生いたします。クラウド製品の特性上、データセンターやネットワーク インフラに問題が検知されたときの自動復旧動作となりますため、一時的に接続が失われた場合は少し時間をおいてから操作を再試行していただきますようお願いいたします。<br>少し時間をおいてから操作を再試行していただくことで、高い確率で正常に実行されます。</p><p>例としまして、以下の要因により、Dynamics 365 for Finance and Operations にて一時的に接続が失われ、サーバー上での処理が止まる可能性がございますので、その際には再試行を実施して頂きますようお願いします。</p><ul><li>Dynamics 365 for Finance and Operations にて使用している Azure SQL Database 上での計画外メンテンナンス、または、Dynamics 365 for Finance and Operations のサーバーと Azure SQL Database の一時的なネットワークの接続の問題。</li><li>Dynamics 365 for Finance and Operations のバッチサーバー、AOS サーバーが稼働している基盤の切り替え。何らかの異常を検知した際に、長時間のダウンタイムを防ぐために、Azure 基盤を切り替え、正常な基盤で稼働するような計画外のメンテナンスが発生する場合がございます。こちらが発生した際には、バッチサーバー、AOS サーバーが再起動される場合がございます。</li><li>Dynamics 365 for Finance and Operations の AOS サーバー の自動再起動。 Dynamics 365 for Finance and Operations の AOS サーバー の負荷が高いことを検知した場合、サーバーの使用率が低い時間帯に限って、負荷を下げるために、サーバーの再起動をする場合がございます。</li></ul><p>再試行処理の例としましては、以下の公開資料にてバッチジョブの再試行処理をご案内していますのでご参考にしていただけますと幸いでございます。<br><a href="https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/sysadmin/retryable-batch">https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/sysadmin/retryable-batch</a></p><p>また、セキュリティ、可用性、信頼性を確保するため計画メンテナンスも実施致しております。メンテナンスが実施される日時につきましては以下の公開資料をご確認お願いします。<br><a href="https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/deployment/plannedmaintenance-selfservice#windows">https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/deployment/plannedmaintenance-selfservice#windows</a></p><hr><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、 Dynamics 365 for Finance and Operations をご利用いただく際の留意事項、ご協力いただきたい事項についてご紹介しました。<br>より詳細な情報が必要な場合、弊社テクニカルサポート, Customer Success Account Manager(CSAM), Customer Engineer(CE) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、Dynamics 365 ERP サポートチームです。&lt;br&gt;今回は、Dynamics 365 for Finance and Operations をご利用いただく際の留意事項、ご協力いただきたい事項についてご紹介します。&lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO Tech" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-Tech/"/>
    
    <category term="Tips" scheme="https://jpdynamicserp.github.io/blog/tags/Tips/"/>
    
  </entry>
  
  <entry>
    <title>購買要求から作成された発注書が自動的に &quot;ドラフト&quot; になる場合</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20App%20SCM/how-to-change-purchase-order-status/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20App%20SCM/how-to-change-purchase-order-status/</id>
    <published>2023-01-29T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.579Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、日本マイクロソフト Dynamics ERP サポートチームの木村です。<br>この記事では、 Dynamics 365 Finance and Operations における [購買要求] 画面から作成された発注書のステータスを “ドラフト” にする手順を紹介します。</p><span id="more"></span><h2 id="目次"><a href="#目次" class="headerlink" title="目次"></a>目次</h2><ol><li><a href="#anchor-version">検証に用いた製品・バージョン</a></li><li><a href="#how-to-update-postatus">[購買要求] 画面から作成された発注書のステータスを “ドラフト” にする手順について</a></li><li><a href="#anchor-finish">おわりに</a></li></ol><p><a id='anchor-version'></a></p><h2 id="検証に用いた製品・バージョン"><a href="#検証に用いた製品・バージョン" class="headerlink" title="検証に用いた製品・バージョン"></a>検証に用いた製品・バージョン</h2><p>Dynamics 365 Finance and Operations<br>Application version: 10.0.31<br>Platform version: PU55  </p><p><a id='how-to-update-postatus'></a></p><h2 id="購買要求-画面から作成された発注書のステータスを-“ドラフト”-にする手順"><a href="#購買要求-画面から作成された発注書のステータスを-“ドラフト”-にする手順" class="headerlink" title="[購買要求] 画面から作成された発注書のステータスを “ドラフト” にする手順"></a>[購買要求] 画面から作成された発注書のステータスを <strong>“ドラフト”</strong> にする手順</h2><h3 id="手順"><a href="#手順" class="headerlink" title="手順"></a>手順</h3><ol><li><p>[調達] &gt; [設定] &gt; [調達パラメーター] を順にクリックする</p></li><li><p>“購買要求経由で作成された発注書経由のドラフト承認状態を指定する” を 「はい」に設定する<br><img src="/blog/D365FO%20App%20SCM/how-to-change-purchase-order-status/step1.png"></p></li><li><p>購買要求を作成し、承認まで実施する<br>※本ブログでは購買要求の手順については割愛いたします。<br><img src="/blog/D365FO%20App%20SCM/how-to-change-purchase-order-status/step2.png"></p></li></ol><h3 id="作成された発注書"><a href="#作成された発注書" class="headerlink" title="作成された発注書"></a><strong>作成された発注書</strong></h3><p>ステータスが <strong>“ドラフト”</strong> になっていることを確認する<br><img src="/blog/D365FO%20App%20SCM/how-to-change-purchase-order-status/step4.png"></p><p> ※上記設定を行っていない場合は、[購買要求] 画面から作成された発注書のステータスは “承認済” となります<br> ※前提として [調達パラメーター] 画面の “変更管理の有効化” が「はい」になっていること (= [発注書] 画面にてワークフローの処理を有効にすること)　　<br><img src="/blog/D365FO%20App%20SCM/how-to-change-purchase-order-status/step3.png"></p><h2 id=""><a href="#" class="headerlink" title=""></a><a id='anchor-finish'></a></h2><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、 Dynamics 365 Finance and Operations における [購買要求] 画面から作成された発注書のステータスを “ドラフト” にする手順について紹介いたしました。<br>より詳細な情報が必要な場合、弊社テクニカル サポート, Customer Success Account Manager (CSAM), Customer Engineer (CE) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、日本マイクロソフト Dynamics ERP サポートチームの木村です。&lt;br&gt;この記事では、 Dynamics 365 Finance and Operations における [購買要求] 画面から作成された発注書のステータスを “ドラフト” にする手順を紹介します。&lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO SCM" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-SCM/"/>
    
    <category term="Draft" scheme="https://jpdynamicserp.github.io/blog/tags/Draft/"/>
    
  </entry>
  
  <entry>
    <title>移動オーダー &quot;FEFO 日付管理の上書き&quot; の使用方法</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/</id>
    <published>2023-01-29T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.807Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Dynamics ERP サポート チームの細野です。<br>この記事では、移動オーダーにある項目 “FEFO 日付管理の上書き” の使用方法をご案内いたします。<br>項目名から動作が想像しづらいため、本記事を参考にしていただけると幸いです。</p><span id="more"></span><h2 id="検証に用いた製品・バージョン"><a href="#検証に用いた製品・バージョン" class="headerlink" title="検証に用いた製品・バージョン"></a>検証に用いた製品・バージョン</h2><p>Dynamics 365 Finance and Operations<br>Application version: 10.0.31<br>Platform version: PU 55</p><h2 id="移動オーダー-“FEFO-日付管理の上書き”-の使用方法"><a href="#移動オーダー-“FEFO-日付管理の上書き”-の使用方法" class="headerlink" title="移動オーダー “FEFO 日付管理の上書き” の使用方法"></a>移動オーダー “FEFO 日付管理の上書き” の使用方法</h2><p>本項目は、移動オーダーの転記時に、有効期限の検証をスキップするかどうかを設定するものです。<br>“FEFO 日付管理の上書き” が無効である場合は、有効期限を過ぎている在庫を移動することができないように制御されております。<br>“FEFO 日付管理の上書き” を有効に設定することにより、有効期限を過ぎている在庫を移動することが可能となります。</p><p>実際にどのような挙動になるのか、簡易シナリオにて動作を検証した結果を以下におまとめいたします。<br>ご利用にあたって参考にしていただけると幸いです。</p><h2 id="“FEFO-日付管理”-の品目の設定方法"><a href="#“FEFO-日付管理”-の品目の設定方法" class="headerlink" title="“FEFO 日付管理” の品目の設定方法"></a>“FEFO 日付管理” の品目の設定方法</h2><p>移動オーダーにある項目 “FEFO 日付管理の上書き” は “FEFO 日付管理” が有効である品目に対して利用いただく項目です。<br>“FEFO 日付管理” が有効である品目の設定方法について、ご説明します。</p><h3 id="品目モデル-グループの設定"><a href="#品目モデル-グループの設定" class="headerlink" title="品目モデル グループの設定"></a>品目モデル グループの設定</h3><ol><li><p>在庫管理 &gt; 設定 &gt; 在庫 &gt; 品目モデル グループ に移動する</p></li><li><p>対象の品目モデル グループ を選択し、在庫ポリシー パネル内の “FEFO 日付管理” を有効にする<br> <img src="/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/pic1.png"></p></li></ol><h3 id="製品の設定"><a href="#製品の設定" class="headerlink" title="製品の設定"></a>製品の設定</h3><ol><li><p>製品情報管理 &gt; 製品 &gt; リリースされた製品 に移動する</p></li><li><p>対象製品を選択し、詳細画面を開く</p></li><li><p>対象品目の “追跡用管理分析コード グループ” にてバッチ番号の管理を有効とする<br>デモ データ 法人 USMF においては、”Batch-Qty” がご利用いただけます。<br> <img src="/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/pic2.png"><br> <img src="/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/pic3.png"></p></li><li><p>“在庫の管理” パネル以下の “有効期限 (日数)” を設定する<br> <img src="/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/pic4.png"></p></li></ol><h3 id="バッチ番号の登録"><a href="#バッチ番号の登録" class="headerlink" title="バッチ番号の登録"></a>バッチ番号の登録</h3><ol><li><p>リリースされた製品 詳細画面にて、在庫の管理 &gt; 表示 &gt; バッチ をクリックする<br> <img src="/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/pic5.png"></p></li><li><p>“+新規” をクリックし、以下の画像のように製造日を指定しバッチ番号を登録する<br> <img src="/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/pic6.png"></p></li><li><p>“保存” をクリックし、”有効期限” 等が補完されることを確認する<br> <img src="/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/pic7.png"></p></li><li><p>設定による挙動の違いを確認するため、同様に期限切れのバッチ番号を登録する<br> <img src="/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/pic8.png"></p></li></ol><h3 id="登録したバッチ番号に対応する製造オーダーの登録"><a href="#登録したバッチ番号に対応する製造オーダーの登録" class="headerlink" title="登録したバッチ番号に対応する製造オーダーの登録"></a>登録したバッチ番号に対応する製造オーダーの登録</h3><ol><li><p>生産管理 &gt; 製造オーダー &gt; すべての製造オーダー に移動する</p></li><li><p>“新しい製造オーダー” をクリックし、対象品目の製造オーダーを登録する<br> <img src="/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/pic9.png"></p></li><li><p>作成した製造オーダーのステータスを見積、開始へと進める</p></li><li><p>作成した製造オーダーに対して、バッチ番号を指定し完了レポートを実施する<br> <img src="/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/pic10.png"><br> <img src="/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/pic11.png"></p></li></ol><h2 id="移動オーダーにて挙動を確認する"><a href="#移動オーダーにて挙動を確認する" class="headerlink" title="移動オーダーにて挙動を確認する"></a>移動オーダーにて挙動を確認する</h2><ol><li><p>在庫管理 &gt; 出庫指示 &gt; 移動オーダー に移動する</p></li><li><p>“+新規” をクリックし移動オーダーを新規作成する</p></li><li><p>移動元倉庫、移動先倉庫を指定する</p></li><li><p>対象品目、バッチ番号を指定する</p></li></ol><p>  このとき、以下のようにメッセージが表示されます<br>    <img src="/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/pic12.png"><br>    メッセージ : バッチ 20230106 は 有効期限 に基づいて選択されておらず、期限日を過ぎています。</p><ol><li><p>“明細行の詳細” 以下 “配送日” タブを開き、”FEFO 日付管理の上書き” を “はい” に変更する</p></li><li><p>再度、バッチ番号を指定し “保存” をクリックする<br>“FEFO 日付管理の上書き” の設定を変更したことにより、メッセージは表示されず保存することができます<br> <img src="/blog/D365FO%20App%20SCM/how-to-use-override-fefo-date-control/pic13.png"></p></li></ol><hr><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、移動オーダーにある項目 “FEFO 日付管理の上書き” の使用方法についてご紹介いたしました。<br>より詳細な情報が必要な場合、弊社テクニカル サポート、Customer Success Account Manager (CSAM), Customer Engineer (CE) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、Dynamics ERP サポート チームの細野です。&lt;br&gt;この記事では、移動オーダーにある項目 “FEFO 日付管理の上書き” の使用方法をご案内いたします。&lt;br&gt;項目名から動作が想像しづらいため、本記事を参考にしていただけると幸いです。&lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO SCM" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-SCM/"/>
    
    <category term="Transfer Order" scheme="https://jpdynamicserp.github.io/blog/tags/Transfer-Order/"/>
    
  </entry>
  
  <entry>
    <title>特定の顧客にのみ商品の販売を許可する方法</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20App%20SCM/product-filter/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20App%20SCM/product-filter/</id>
    <published>2023-01-15T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.819Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Dynamics ERP サポート チームの細野です。<br>この記事では、製品フィルターを設定し、特定の顧客にのみ製品の販売を許可する方法をご案内いたします。<br>発注については、承認仕入先を使用することで対象製品の仕入先を制限することができます。<br>一方、受注については承認仕入先と同様の機能はございませんが、製品フィルターを設定することで、販売先の顧客を限定することが可能となります。  </p><span id="more"></span><h2 id="検証に用いた製品・バージョン"><a href="#検証に用いた製品・バージョン" class="headerlink" title="検証に用いた製品・バージョン"></a>検証に用いた製品・バージョン</h2><p>Dynamics 365 Finance and Operations<br>Application version: 10.0.31<br>Platform version: PU 55</p><h2 id="製品フィルターの設定方法"><a href="#製品フィルターの設定方法" class="headerlink" title="製品フィルターの設定方法"></a>製品フィルターの設定方法</h2><h3 id="必要条件"><a href="#必要条件" class="headerlink" title="必要条件"></a>必要条件</h3><p>製品フィルターを使用するための前提条件は以下の通りです。</p><ol><li><p>製品の保管分析コードグループに対して「倉庫管理プロセスの使用」が「はい」と設定されていること<br> 製品フィルター コードは、倉庫管理プロセス (WMS) を使用する品目に対してのみ有効になります。<br> 事前に、製品情報管理 &gt; 設定 &gt; 分析コードとバリアント グループ &gt; 保管分析コード グループ に移動し、「倉庫管理プロセスの使用」オプションが「はい」に設定されている保管分析コード グループを選択または作成します。<br> <img src="/blog/D365FO%20App%20SCM/product-filter/pic1.png"></p></li><li><p>倉庫管理パラメーターで「顧客フィルター」が有効であること<br> 倉庫管理 &gt; 設定 &gt; 倉庫管理パラメーター に移動します。 製品フィルター タブで、「顧客フィルターの有効化」オプションを「はい」に設定します。<br> <img src="/blog/D365FO%20App%20SCM/product-filter/pic2.png"></p></li></ol><h3 id="製品フィルターの設定"><a href="#製品フィルターの設定" class="headerlink" title="製品フィルターの設定"></a>製品フィルターの設定</h3><ol><li><p>倉庫管理 &gt; 設定 &gt; 製品フィルター &gt; 製品フィルター に移動する</p></li><li><p>アクション ペインで 新規 をクリックし、製品フィルターをグリッドに追加する</p></li><li><p>フィルター タイトルに<strong>コード 1</strong>を選択する</p></li><li><p>フィルター コードに任意の値を入力する</p><p> <img src="/blog/D365FO%20App%20SCM/product-filter/pic3.png"></p></li></ol><h3 id="品目グループおよび製品の設定"><a href="#品目グループおよび製品の設定" class="headerlink" title="品目グループおよび製品の設定"></a>品目グループおよび製品の設定</h3><ol><li><p>製品情報管理 &gt; 製品 &gt; リリースされた製品 に移動する</p></li><li><p>対象製品を選択し、詳細画面を開く</p></li><li><p><strong>原価の管理</strong>パネル以下の<strong>品目グループ</strong>項目をクリックし、詳細画面を開く<br><img src="/blog/D365FO%20App%20SCM/product-filter/pic4.png"></p></li><li><p><strong>倉庫</strong>パネル以下の<strong>フィルター コード 1 の使用</strong> を有効化する<br><img src="/blog/D365FO%20App%20SCM/product-filter/pic5.png"></p></li><li><p>品目グループの詳細画面を閉じ、対象製品の詳細画面に戻る</p></li><li><p><strong>倉庫</strong>パネル以下の<strong>製品フィルター コード</strong> コード 1 に対し、作成したフィルター コードを指定する<br><img src="/blog/D365FO%20App%20SCM/product-filter/pic6.png"></p></li></ol><h3 id="販売を許可する顧客の設定"><a href="#販売を許可する顧客の設定" class="headerlink" title="販売を許可する顧客の設定"></a>販売を許可する顧客の設定</h3><ol><li><p>売掛金管理 &gt; 顧客 &gt; すべての顧客 に移動する</p></li><li><p>販売を許可する顧客を選択し、詳細画面を開く</p></li><li><p>顧客 &gt; 設定 &gt; 製品フィルター をクリックする<br><img src="/blog/D365FO%20App%20SCM/product-filter/pic7.png"></p></li><li><p>新規をクリックし、以下画像のようにレコードを追加する<br><img src="/blog/D365FO%20App%20SCM/product-filter/pic8.png"></p></li></ol><h2 id="販売注文にて挙動を確認する"><a href="#販売注文にて挙動を確認する" class="headerlink" title="販売注文にて挙動を確認する"></a>販売注文にて挙動を確認する</h2><ol><li><p>売掛金管理 &gt; 注文 &gt; すべての販売注文 に移動する</p></li><li><p>販売を許可する設定を実施した顧客を選択し、販売注文を開く</p></li><li><p>販売明細行に対象製品を指定し、エラー メッセージが表示されないことを確認する<br><img src="/blog/D365FO%20App%20SCM/product-filter/pic9.png"></p></li><li><p>異なる顧客を選択し、販売注文を開く</p></li><li><p>販売明細行に対象製品を指定し、エラー メッセージが表示されることを確認する<br><img src="/blog/D365FO%20App%20SCM/product-filter/pic10.png"></p></li></ol><p>このように一部の顧客にのみ、販売を許可することができます。</p><h2 id="補足情報"><a href="#補足情報" class="headerlink" title="補足情報"></a>補足情報</h2><ul><li><p>すべての顧客に対して一律に販売を許可する場合には、倉庫管理 &gt; 製品フィルター &gt; 一般提供する製品 にて対象のコードをご登録ください<br><img src="/blog/D365FO%20App%20SCM/product-filter/pic11.png"></p></li><li><p>顧客ごとではなく顧客グループごとに、製品フィルターを設定することも可能です<br><img src="/blog/D365FO%20App%20SCM/product-filter/pic12.png"></p></li></ul><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><hr><p>以上、製品フィルターを設定し、特定の顧客にのみ製品の販売を許可する方法についてご紹介いたしました。<br>より詳細な情報が必要な場合、弊社テクニカル サポート、Customer Success Account Manager (CSAM), Customer Engineer (CE) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、Dynamics ERP サポート チームの細野です。&lt;br&gt;この記事では、製品フィルターを設定し、特定の顧客にのみ製品の販売を許可する方法をご案内いたします。&lt;br&gt;発注については、承認仕入先を使用することで対象製品の仕入先を制限することができます。&lt;br&gt;一方、受注については承認仕入先と同様の機能はございませんが、製品フィルターを設定することで、販売先の顧客を限定することが可能となります。  &lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO SCM" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-SCM/"/>
    
    <category term="Sales order" scheme="https://jpdynamicserp.github.io/blog/tags/Sales-order/"/>
    
    <category term="Product filter" scheme="https://jpdynamicserp.github.io/blog/tags/Product-filter/"/>
    
  </entry>
  
  <entry>
    <title>Power Automate の Fin&amp;Ops Apps (Dynamics 365) コネクタにおけるフィルターの設定方法</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20Tech/how-to-powerautomateapi/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20Tech/how-to-powerautomateapi/</id>
    <published>2023-01-15T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.931Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、日本マイクロソフトの佐藤です。<br>この記事では、Power Automate の Fin&amp;Ops Apps (Dynamics 365) コネクタにおけるフィルターの設定方法をご案内します。<br>この手順により、Power Automate から Dynamics 365 for Finance and Operations (D365FO) 環境にアクセスしてテーブル情報を取得する際に、フィルターを適用し、必要な情報だけを取得することができます。  </p><span id="more"></span><h2 id="検証に用いた製品・バージョン"><a href="#検証に用いた製品・バージョン" class="headerlink" title="検証に用いた製品・バージョン"></a>検証に用いた製品・バージョン</h2><p>Dynamics 365 Finance and Operations<br>Application version: 10.0.33<br>Platform version: PU57</p><h2 id="PowerAutomate-の-Fin-amp-Ops-Apps-Dynamics365-コネクタにおけるフィルターの設定方法"><a href="#PowerAutomate-の-Fin-amp-Ops-Apps-Dynamics365-コネクタにおけるフィルターの設定方法" class="headerlink" title="PowerAutomate の Fin&amp;Ops Apps(Dynamics365) コネクタにおけるフィルターの設定方法"></a>PowerAutomate の Fin&amp;Ops Apps(Dynamics365) コネクタにおけるフィルターの設定方法</h2><p>例えば、ステータスが ‘エラー’ である Batch ジョブだけの情報を取得したい場合は、下記のようにフローを設定することで、情報を取得できます。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Status eq Microsoft.Dynamics.DataEntities.BatchStatus<span class="string">&#x27;Error&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/blog/D365FO%20Tech/how-to-powerautomateapi/automate1.png"></p><p>上記のうち、テーブル列名 (<em>1) eq Microsoft.Dynamics.DataEntities.**</em>(*2) ‘値(*3)’<br>にあたる 3 つは取得したいデータに併せて設定する必要があります。</p><h2 id="List-items-present-in-table-のフィルタークエリの設定-1-3"><a href="#List-items-present-in-table-のフィルタークエリの設定-1-3" class="headerlink" title="List items present in table のフィルタークエリの設定 (*1 *3)"></a>List items present in table のフィルタークエリの設定 (*1 *3)</h2><p>まずテーブル列名 (*1) とその値 (*3) の参照方法を説明いたします。いくつか方法はございますが、本 Blog では PowerAutomate を使用した方法を 1 つ紹介いたします。</p><ol><li><p>「テーブルに存在する項目を一覧表示する」のコネクタにて、参照したいエンティティに関してフィルターを設定せずに一度テストを実行します。<br><img src="/blog/D365FO%20Tech/how-to-powerautomateapi/automate2.png"></p></li><li><p>テスト終了後、実行履歴からダウンロード取得したデータをダウンロードします。<br><img src="/blog/D365FO%20Tech/how-to-powerautomateapi/automate3.png"></p></li><li><p>データを開き、取得したいデータを検索すると “Status” という列名に “Error” という情報で格納されていることがわかります。<br><img src="/blog/D365FO%20Tech/how-to-powerautomateapi/automate4.png"></p></li></ol><h2 id="List-items-present-in-table-のフィルタークエリの設定-2"><a href="#List-items-present-in-table-のフィルタークエリの設定-2" class="headerlink" title="List items present in table のフィルタークエリの設定 (*2)"></a>List items present in table のフィルタークエリの設定 (*2)</h2><p>続いて、Microsoft.Dynamics.DataEntities. の後の (*2) について PowerAutomate を使用した参照方法を説明いたします。</p><ol><li><p>「テーブルに存在する項目を一覧表示する」のコネクタにて、参照したいエンティティに関して、上記の手順で判明した (*1) と (*3) を用いてフィルターを設定します。その後テストを実行します。<br><img src="/blog/D365FO%20Tech/how-to-powerautomateapi/automate5.png"></p></li><li><p>テスト終了後、実行履歴を確認するとテストは失敗しているはずです。この失敗は想定の挙動ですので問題ございません。エラーの内容を確認すると下記のようにエラーが表示されます。<br><img src="/blog/D365FO%20Tech/how-to-powerautomateapi/automate6.png"></p></li><li><p>上記のエラーで表示された Microsoft.Dynamics.DataEntities. の後の文字列 ( 今回は BatchStatus ) を (*2) の値として使用します。<br>すると下記のような設定となり、データのフィルタリングができます。<br><img src="/blog/D365FO%20Tech/how-to-powerautomateapi/automate1.png"></p></li></ol><h2 id="OData-のサービスエンドポイント使用時のフィルター設定"><a href="#OData-のサービスエンドポイント使用時のフィルター設定" class="headerlink" title="OData のサービスエンドポイント使用時のフィルター設定"></a>OData のサービスエンドポイント使用時のフィルター設定</h2><p>本ブログのフィルター設定を OData のサービスエンドポイント使用時に実行する場合は、下記のように設定します。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//dynftejpnuat.sandbox.operations.dynamics.com/data/BatchJobs?$filter=Status eq Microsoft.Dynamics.DataEntities.BatchStatus&#x27;Error&#x27;</span></span><br></pre></td></tr></table></figure><p>その他のクエリオプションの設定に関しましては、下記の公開資料に記載がございますので、ご参照いただけますと幸いです。</p><p><a href="https://learn.microsoft.com/ja-jp/dynamics365/fin-ops-core/dev-itpro/data-entities/odata">データ プロトコル (OData) を開く</a></p><hr><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>以上、、Power Automate の Fin&amp;Ops Apps (Dynamics 365) コネクタにおけるフィルターの設定方法をご紹介させていただきました。<br>もし、お困りのこと等がございましたら、弊社までお問い合わせ頂きますようお願いいたします。  </p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、日本マイクロソフトの佐藤です。&lt;br&gt;この記事では、Power Automate の Fin&amp;amp;Ops Apps (Dynamics 365) コネクタにおけるフィルターの設定方法をご案内します。&lt;br&gt;この手順により、Power Automate から Dynamics 365 for Finance and Operations (D365FO) 環境にアクセスしてテーブル情報を取得する際に、フィルターを適用し、必要な情報だけを取得することができます。  &lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO Tech" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO-Tech/"/>
    
    <category term="Power Automate" scheme="https://jpdynamicserp.github.io/blog/tags/Power-Automate/"/>
    
    <category term="OData" scheme="https://jpdynamicserp.github.io/blog/tags/OData/"/>
    
  </entry>
  
  <entry>
    <title>会計年度の追加方法について</title>
    <link href="https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/add-new-fiscal-year/"/>
    <id>https://jpdynamicserp.github.io/blog/D365FO%20App%20FIN/add-new-fiscal-year/</id>
    <published>2023-01-04T15:00:00.000Z</published>
    <updated>2023-10-12T15:49:24.467Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Dynamics ERP サポート チームの尾崎です。<br>弊社標準環境のデモ データの法人の 1 つである USMF では 2023 年度より会計年度が未登録になっているバージョンがございます。<br>そのため、伝票を転記する際に以下のようなエラーが表示されることがあります。エラーが表示された際の会計年度の追加方法について紹介します。</p><span id="more"></span><p><img src="/blog/D365FO%20App%20FIN/add-new-fiscal-year/add-new-fiscal-year1.png"></p><h2 id="検証に用いた製品・バージョン"><a href="#検証に用いた製品・バージョン" class="headerlink" title="検証に用いた製品・バージョン"></a>検証に用いた製品・バージョン</h2><p>Dynamics 365 Finance and Operations<br>Application version: 10.0.30 Platform version: PU54</p><h2 id="会計カレンダー画面の起動"><a href="#会計カレンダー画面の起動" class="headerlink" title="会計カレンダー画面の起動"></a>会計カレンダー画面の起動</h2><ol><li>一般会計 &gt; カレンダー &gt; 会計カレンダー へ遷移する</li><li>カレンダーを “Fiscal” に変更する</li><li>「＋新しい会計年度」より作成ボタンをクリックする</li></ol><p><img src="/blog/D365FO%20App%20FIN/add-new-fiscal-year/add-new-fiscal-year2.png"></p><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>弊社標準環境のデモ データの法人の 1 つである USMF にて会計年度が未登録になっていた際の会計カレンダー追加手順についてご案内いたしました。<br>より詳細な情報が必要な場合、弊社テクニカルサポート、Customer Success Account Manager (CSAM), Customer Engineer (CE) までお問い合わせください。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;こんにちは、Dynamics ERP サポート チームの尾崎です。&lt;br&gt;弊社標準環境のデモ データの法人の 1 つである USMF では 2023 年度より会計年度が未登録になっているバージョンがございます。&lt;br&gt;そのため、伝票を転記する際に以下のようなエラーが表示されることがあります。エラーが表示された際の会計年度の追加方法について紹介します。&lt;/p&gt;</summary>
    
    
    
    
    <category term="D365FO" scheme="https://jpdynamicserp.github.io/blog/tags/D365FO/"/>
    
    <category term="General Ledger" scheme="https://jpdynamicserp.github.io/blog/tags/General-Ledger/"/>
    
  </entry>
  
</feed>
